function cov_11w8qvd3rv(){var path="/home/seele/Projetos/NodeJS/curso_erickwendel/08-multi-db-postgres/src/db/postgres.js";var hash="ab1bf0c7c128b7711928b4fd651afee40630f3ec";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/Projetos/NodeJS/curso_erickwendel/08-multi-db-postgres/src/db/postgres.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:52}},"1":{start:{line:2,column:18},end:{line:2,column:38}},"2":{start:{line:6,column:8},end:{line:6,column:16}},"3":{start:{line:7,column:8},end:{line:7,column:28}},"4":{start:{line:8,column:8},end:{line:8,column:28}},"5":{start:{line:9,column:8},end:{line:9,column:23}},"6":{start:{line:13,column:8},end:{line:19,column:9}},"7":{start:{line:14,column:12},end:{line:14,column:27}},"8":{start:{line:15,column:12},end:{line:15,column:24}},"9":{start:{line:17,column:12},end:{line:17,column:54}},"10":{start:{line:18,column:12},end:{line:18,column:25}},"11":{start:{line:23,column:8},end:{line:36,column:10}},"12":{start:{line:38,column:8},end:{line:38,column:33}},"13":{start:{line:43,column:7},end:{line:62,column:11}},"14":{start:{line:65,column:8},end:{line:65,column:28}},"15":{start:{line:69,column:31},end:{line:69,column:63}},"16":{start:{line:70,column:8},end:{line:70,column:26}},"17":{start:{line:74,column:8},end:{line:74,column:65}},"18":{start:{line:78,column:29},end:{line:78,column:82}},"19":{start:{line:80,column:8},end:{line:80,column:28}},"20":{start:{line:84,column:0},end:{line:84,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:18},end:{line:10,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:20,column:5}},line:12},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:20},end:{line:39,column:5}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:24},end:{line:66,column:5}},line:42},"4":{name:"(anonymous_4)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:24},end:{line:71,column:5}},line:68},"5":{name:"(anonymous_5)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:27},end:{line:75,column:5}},line:73},"6":{name:"(anonymous_6)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:28},end:{line:81,column:5}},line:77}},branchMap:{"0":{loc:{start:{line:73,column:15},end:{line:73,column:25}},type:"default-arg",locations:[{start:{line:73,column:23},end:{line:73,column:25}}],line:73}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{"0":[0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab1bf0c7c128b7711928b4fd651afee40630f3ec"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_11w8qvd3rv=function(){return actualCoverage;};}return actualCoverage;}cov_11w8qvd3rv();const ICrud=(cov_11w8qvd3rv().s[0]++,require('./interfaces/interface.crud'));const Sequelize=(cov_11w8qvd3rv().s[1]++,require('sequelize'));class PostgreSQL extends ICrud{constructor(){cov_11w8qvd3rv().f[0]++;cov_11w8qvd3rv().s[2]++;super();cov_11w8qvd3rv().s[3]++;this._driver=null;cov_11w8qvd3rv().s[4]++;this._herois=null;cov_11w8qvd3rv().s[5]++;this.connect();}isConnected(){cov_11w8qvd3rv().f[1]++;cov_11w8qvd3rv().s[6]++;try{cov_11w8qvd3rv().s[7]++;this.connect();cov_11w8qvd3rv().s[8]++;return true;}catch(error){cov_11w8qvd3rv().s[9]++;console.error("A conex√£o falhou!",error);cov_11w8qvd3rv().s[10]++;return false;}}async connect(){cov_11w8qvd3rv().f[2]++;cov_11w8qvd3rv().s[11]++;this._driver=new Sequelize(// database
'postgres',// usuario
'robson',// senha
'root',{host:'localhost',dialect:'postgres',quoteIdentifiers:0,operatorsAliases:0});cov_11w8qvd3rv().s[12]++;await this.defineModel();}// Definimos o nosso modelo.
async defineModel(){cov_11w8qvd3rv().f[3]++;cov_11w8qvd3rv().s[13]++;this._herois=this._driver.define('herois',{id:{type:Sequelize.INTEGER,required:true,primaryKey:true,autoIncrement:true},nome:{type:Sequelize.STRING,required:true},poder:{type:Sequelize.STRING,required:true}},{tableName:'heroes',freezeTableName:false,timestamps:false});// Sincronizamo com nosso banco de dados.
cov_11w8qvd3rv().s[14]++;this._herois.sync();}async create(heroi){cov_11w8qvd3rv().f[4]++;const{dataValues}=(cov_11w8qvd3rv().s[15]++,await this._herois.create(heroi));cov_11w8qvd3rv().s[16]++;return dataValues;}async read(heroi=(cov_11w8qvd3rv().b[0][0]++,{})){cov_11w8qvd3rv().f[5]++;cov_11w8qvd3rv().s[17]++;return this._herois.findAll({where:heroi,raw:true});}async update(id,heroi){cov_11w8qvd3rv().f[6]++;const updatedHeroi=(cov_11w8qvd3rv().s[18]++,await this._herois.update(heroi,{where:{id:id}}));cov_11w8qvd3rv().s[19]++;return updatedHeroi;}}cov_11w8qvd3rv().s[20]++;module.exports=PostgreSQL;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RncmVzLmpzIl0sIm5hbWVzIjpbIklDcnVkIiwicmVxdWlyZSIsIlNlcXVlbGl6ZSIsIlBvc3RncmVTUUwiLCJjb25zdHJ1Y3RvciIsIl9kcml2ZXIiLCJfaGVyb2lzIiwiY29ubmVjdCIsImlzQ29ubmVjdGVkIiwiZXJyb3IiLCJjb25zb2xlIiwiaG9zdCIsImRpYWxlY3QiLCJxdW90ZUlkZW50aWZpZXJzIiwib3BlcmF0b3JzQWxpYXNlcyIsImRlZmluZU1vZGVsIiwiZGVmaW5lIiwiaWQiLCJ0eXBlIiwiSU5URUdFUiIsInJlcXVpcmVkIiwicHJpbWFyeUtleSIsImF1dG9JbmNyZW1lbnQiLCJub21lIiwiU1RSSU5HIiwicG9kZXIiLCJ0YWJsZU5hbWUiLCJmcmVlemVUYWJsZU5hbWUiLCJ0aW1lc3RhbXBzIiwic3luYyIsImNyZWF0ZSIsImhlcm9pIiwiZGF0YVZhbHVlcyIsInJlYWQiLCJmaW5kQWxsIiwid2hlcmUiLCJyYXciLCJ1cGRhdGUiLCJ1cGRhdGVkSGVyb2kiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoib21HQWVZOzJGQWZaLEtBQU1BLENBQUFBLEtBQUssMEJBQUdDLE9BQU8sQ0FBQyw2QkFBRCxDQUFWLENBQVgsQ0FDQSxLQUFNQyxDQUFBQSxTQUFTLDBCQUFHRCxPQUFPLENBQUMsV0FBRCxDQUFWLENBQWYsQ0FFQSxLQUFNRSxDQUFBQSxVQUFOLFFBQXlCSCxDQUFBQSxLQUFNLENBQzNCSSxXQUFXLEVBQUcsaURBQ1YsUUFEVSx3QkFFVixLQUFLQyxPQUFMLENBQWUsSUFBZixDQUZVLHdCQUdWLEtBQUtDLE9BQUwsQ0FBZSxJQUFmLENBSFUsd0JBSVYsS0FBS0MsT0FBTCxHQUNILENBRURDLFdBQVcsRUFBRyxpREFDVixHQUFJLHlCQUNBLEtBQUtELE9BQUwsR0FEQSx3QkFFQSxNQUFPLEtBQVAsQ0FDSCxDQUFDLE1BQU9FLEtBQVAsQ0FBYyx5QkFDWkMsT0FBTyxDQUFDRCxLQUFSLENBQWMsbUJBQWQsQ0FBbUNBLEtBQW5DLEVBRFkseUJBRVosTUFBTyxNQUFQLENBQ0gsQ0FDSixDQUVZLEtBQVBGLENBQUFBLE9BQU8sRUFBRyxrREFDWixLQUFLRixPQUFMLENBQWUsR0FBSUgsQ0FBQUEsU0FBSixDQUNYO0FBQ0EsVUFGVyxDQUdYO0FBQ0EsUUFKVyxDQUtYO0FBQ0EsTUFOVyxDQU9YLENBQ0lTLElBQUksQ0FBRSxXQURWLENBRUlDLE9BQU8sQ0FBRSxVQUZiLENBR0lDLGdCQUFnQixDQUFFLENBSHRCLENBSUlDLGdCQUFnQixDQUFFLENBSnRCLENBUFcsQ0FBZixDQURZLHlCQWdCWixLQUFNLE1BQUtDLFdBQUwsRUFBTixDQUNILENBRUQ7QUFDaUIsS0FBWEEsQ0FBQUEsV0FBVyxFQUFHLGtEQUNqQixLQUFLVCxPQUFMLENBQWUsS0FBS0QsT0FBTCxDQUFhVyxNQUFiLENBQW9CLFFBQXBCLENBQThCLENBQ3hDQyxFQUFFLENBQUUsQ0FDQUMsSUFBSSxDQUFFaEIsU0FBUyxDQUFDaUIsT0FEaEIsQ0FFQUMsUUFBUSxDQUFFLElBRlYsQ0FHQUMsVUFBVSxDQUFFLElBSFosQ0FJQUMsYUFBYSxDQUFFLElBSmYsQ0FEb0MsQ0FPeENDLElBQUksQ0FBRSxDQUNGTCxJQUFJLENBQUVoQixTQUFTLENBQUNzQixNQURkLENBRUZKLFFBQVEsQ0FBRSxJQUZSLENBUGtDLENBV3hDSyxLQUFLLENBQUUsQ0FDSFAsSUFBSSxDQUFFaEIsU0FBUyxDQUFDc0IsTUFEYixDQUVISixRQUFRLENBQUUsSUFGUCxDQVhpQyxDQUE5QixDQWVYLENBQ0NNLFNBQVMsQ0FBRSxRQURaLENBRUNDLGVBQWUsQ0FBRSxLQUZsQixDQUdDQyxVQUFVLENBQUUsS0FIYixDQWZXLENBQWYsQ0FxQkM7QUF0QmdCLHlCQXVCaEIsS0FBS3RCLE9BQUwsQ0FBYXVCLElBQWIsR0FDSCxDQUVXLEtBQU5DLENBQUFBLE1BQU0sQ0FBQ0MsS0FBRCxDQUFRLHlCQUNoQixLQUFNLENBQUVDLFVBQUYsNEJBQWlCLEtBQU0sTUFBSzFCLE9BQUwsQ0FBYXdCLE1BQWIsQ0FBb0JDLEtBQXBCLENBQXZCLENBQU4sQ0FEZ0IseUJBRWhCLE1BQU9DLENBQUFBLFVBQVAsQ0FDSCxDQUVTLEtBQUpDLENBQUFBLElBQUksQ0FBQ0YsS0FBSyw2QkFBRyxFQUFILENBQU4sQ0FBYSxrREFDbkIsTUFBTyxNQUFLekIsT0FBTCxDQUFhNEIsT0FBYixDQUFxQixDQUFFQyxLQUFLLENBQUVKLEtBQVQsQ0FBZ0JLLEdBQUcsQ0FBRSxJQUFyQixDQUFyQixDQUFQLENBQ0gsQ0FFVyxLQUFOQyxDQUFBQSxNQUFNLENBQUNwQixFQUFELENBQUtjLEtBQUwsQ0FBWSx5QkFDcEIsS0FBTU8sQ0FBQUEsWUFBWSwyQkFBRyxLQUFNLE1BQUtoQyxPQUFMLENBQWErQixNQUFiLENBQW9CTixLQUFwQixDQUEyQixDQUFDSSxLQUFLLENBQUUsQ0FBRWxCLEVBQUUsQ0FBRUEsRUFBTixDQUFSLENBQTNCLENBQVQsQ0FBbEIsQ0FEb0IseUJBR3BCLE1BQU9xQixDQUFBQSxZQUFQLENBQ0gsQ0E3RTBCLEMseUJBZ0YvQkMsTUFBTSxDQUFDQyxPQUFQLENBQWlCckMsVUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBJQ3J1ZCA9IHJlcXVpcmUoJy4vaW50ZXJmYWNlcy9pbnRlcmZhY2UuY3J1ZCcpO1xuY29uc3QgU2VxdWVsaXplID0gcmVxdWlyZSgnc2VxdWVsaXplJyk7XG5cbmNsYXNzIFBvc3RncmVTUUwgZXh0ZW5kcyBJQ3J1ZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RyaXZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hlcm9pcyA9IG51bGw7XG4gICAgICAgIHRoaXMuY29ubmVjdCgpO1xuICAgIH1cblxuICAgIGlzQ29ubmVjdGVkKCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBIGNvbmV4w6NvIGZhbGhvdSFcIiwgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYXN5bmMgY29ubmVjdCgpIHtcbiAgICAgICAgdGhpcy5fZHJpdmVyID0gbmV3IFNlcXVlbGl6ZShcbiAgICAgICAgICAgIC8vIGRhdGFiYXNlXG4gICAgICAgICAgICAncG9zdGdyZXMnLFxuICAgICAgICAgICAgLy8gdXN1YXJpb1xuICAgICAgICAgICAgJ3JvYnNvbicsXG4gICAgICAgICAgICAvLyBzZW5oYVxuICAgICAgICAgICAgJ3Jvb3QnLFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxuICAgICAgICAgICAgICAgIGRpYWxlY3Q6ICdwb3N0Z3JlcycsXG4gICAgICAgICAgICAgICAgcXVvdGVJZGVudGlmaWVyczogMCxcbiAgICAgICAgICAgICAgICBvcGVyYXRvcnNBbGlhc2VzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgYXdhaXQgdGhpcy5kZWZpbmVNb2RlbCgpO1xuICAgIH1cblxuICAgIC8vIERlZmluaW1vcyBvIG5vc3NvIG1vZGVsby5cbiAgICBhc3luYyBkZWZpbmVNb2RlbCgpIHtcbiAgICAgICB0aGlzLl9oZXJvaXMgPSB0aGlzLl9kcml2ZXIuZGVmaW5lKCdoZXJvaXMnLCB7XG4gICAgICAgICAgICBpZDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5JTlRFR0VSLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHByaW1hcnlLZXk6IHRydWUsXG4gICAgICAgICAgICAgICAgYXV0b0luY3JlbWVudDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vbWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcG9kZXI6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuU1RSSU5HLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIHRhYmxlTmFtZTogJ2hlcm9lcycsXG4gICAgICAgICAgICBmcmVlemVUYWJsZU5hbWU6IGZhbHNlLFxuICAgICAgICAgICAgdGltZXN0YW1wczogZmFsc2VcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gU2luY3Jvbml6YW1vIGNvbSBub3NzbyBiYW5jbyBkZSBkYWRvcy5cbiAgICAgICAgdGhpcy5faGVyb2lzLnN5bmMoKTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGUoaGVyb2kpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhVmFsdWVzIH0gPSBhd2FpdCB0aGlzLl9oZXJvaXMuY3JlYXRlKGhlcm9pKTtcbiAgICAgICAgcmV0dXJuIGRhdGFWYWx1ZXM7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVhZChoZXJvaSA9IHt9KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZXJvaXMuZmluZEFsbCh7IHdoZXJlOiBoZXJvaSwgcmF3OiB0cnVlIH0pO1xuICAgIH1cblxuICAgIGFzeW5jIHVwZGF0ZShpZCwgaGVyb2kpIHtcbiAgICAgICAgY29uc3QgdXBkYXRlZEhlcm9pID0gYXdhaXQgdGhpcy5faGVyb2lzLnVwZGF0ZShoZXJvaSwge3doZXJlOiB7IGlkOiBpZCB9fSk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gdXBkYXRlZEhlcm9pO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQb3N0Z3JlU1FMOyJdfQ==