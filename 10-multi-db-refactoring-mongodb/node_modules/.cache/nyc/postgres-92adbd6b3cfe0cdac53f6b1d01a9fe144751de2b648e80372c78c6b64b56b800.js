function cov_11w8qvd3rv(){var path="/home/seele/Projetos/NodeJS/curso_erickwendel/08-multi-db-postgres/src/db/postgres.js";var hash="4c68d338abfb8f04351a94b6df1ed33bd3cca130";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/Projetos/NodeJS/curso_erickwendel/08-multi-db-postgres/src/db/postgres.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:52}},"1":{start:{line:2,column:18},end:{line:2,column:38}},"2":{start:{line:6,column:8},end:{line:6,column:16}},"3":{start:{line:7,column:8},end:{line:7,column:27}},"4":{start:{line:8,column:8},end:{line:8,column:28}},"5":{start:{line:12,column:8},end:{line:18,column:9}},"6":{start:{line:13,column:12},end:{line:13,column:27}},"7":{start:{line:14,column:12},end:{line:14,column:24}},"8":{start:{line:16,column:12},end:{line:16,column:54}},"9":{start:{line:17,column:12},end:{line:17,column:25}},"10":{start:{line:23,column:7},end:{line:42,column:11}},"11":{start:{line:45,column:8},end:{line:45,column:34}},"12":{start:{line:49,column:8},end:{line:49,column:42}},"13":{start:{line:53,column:8},end:{line:66,column:10}},"14":{start:{line:67,column:8},end:{line:67,column:33}},"15":{start:{line:71,column:0},end:{line:71,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:18},end:{line:9,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:18},end:{line:19,column:5}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:24},end:{line:46,column:5}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:48,column:4},end:{line:48,column:5}},loc:{start:{line:48,column:18},end:{line:50,column:5}},line:48},"4":{name:"(anonymous_4)",decl:{start:{line:52,column:4},end:{line:52,column:5}},loc:{start:{line:52,column:20},end:{line:68,column:5}},line:52}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4c68d338abfb8f04351a94b6df1ed33bd3cca130"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_11w8qvd3rv=function(){return actualCoverage;};}return actualCoverage;}cov_11w8qvd3rv();const ICrud=(cov_11w8qvd3rv().s[0]++,require('./interfaces/interface.crud'));const Sequelize=(cov_11w8qvd3rv().s[1]++,require('sequelize'));class PostgreSQL extends ICrud{constructor(){cov_11w8qvd3rv().f[0]++;cov_11w8qvd3rv().s[2]++;super();cov_11w8qvd3rv().s[3]++;this.driver=null;cov_11w8qvd3rv().s[4]++;this._herois=null;}isConnected(){cov_11w8qvd3rv().f[1]++;cov_11w8qvd3rv().s[5]++;try{cov_11w8qvd3rv().s[6]++;this.connect();cov_11w8qvd3rv().s[7]++;return true;}catch(error){cov_11w8qvd3rv().s[8]++;console.error("A conex√£o falhou!",error);cov_11w8qvd3rv().s[9]++;return false;}}// Definimos o nosso modelo.
async defineModel(){cov_11w8qvd3rv().f[2]++;cov_11w8qvd3rv().s[10]++;this._herois=driver.define('herois',{id:{type:Sequelize.INTEGER,required:true,primaryKey:true,autoIncrement:true},nome:{type:Sequelize.STRING,required:true},poder:{type:Sequelize.STRING,required:true}},{tableName:'heroes',freezeTableName:false,timestamps:false});// Sincronizamo com nosso banco de dados.
cov_11w8qvd3rv().s[11]++;await this._herois.sync();}create(heroi){cov_11w8qvd3rv().f[3]++;cov_11w8qvd3rv().s[12]++;return this._herois.create(heroi);}async connect(){cov_11w8qvd3rv().f[4]++;cov_11w8qvd3rv().s[13]++;this._driver=new Sequelize(// database
'postgres',// usuario
'robson',// senha
'root',{host:'localhost',dialect:'postgres',quoteIdentifiers:0,operatorsAliases:0});cov_11w8qvd3rv().s[14]++;await this.defineModel();}}cov_11w8qvd3rv().s[15]++;module.exports=PostgreSQL;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RncmVzLmpzIl0sIm5hbWVzIjpbIklDcnVkIiwicmVxdWlyZSIsIlNlcXVlbGl6ZSIsIlBvc3RncmVTUUwiLCJjb25zdHJ1Y3RvciIsImRyaXZlciIsIl9oZXJvaXMiLCJpc0Nvbm5lY3RlZCIsImNvbm5lY3QiLCJlcnJvciIsImNvbnNvbGUiLCJkZWZpbmVNb2RlbCIsImRlZmluZSIsImlkIiwidHlwZSIsIklOVEVHRVIiLCJyZXF1aXJlZCIsInByaW1hcnlLZXkiLCJhdXRvSW5jcmVtZW50Iiwibm9tZSIsIlNUUklORyIsInBvZGVyIiwidGFibGVOYW1lIiwiZnJlZXplVGFibGVOYW1lIiwidGltZXN0YW1wcyIsInN5bmMiLCJjcmVhdGUiLCJoZXJvaSIsIl9kcml2ZXIiLCJob3N0IiwiZGlhbGVjdCIsInF1b3RlSWRlbnRpZmllcnMiLCJvcGVyYXRvcnNBbGlhc2VzIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjIxRUFlWTsyRkFmWixLQUFNQSxDQUFBQSxLQUFLLDBCQUFHQyxPQUFPLENBQUMsNkJBQUQsQ0FBVixDQUFYLENBQ0EsS0FBTUMsQ0FBQUEsU0FBUywwQkFBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBVixDQUFmLENBRUEsS0FBTUUsQ0FBQUEsVUFBTixRQUF5QkgsQ0FBQUEsS0FBTSxDQUMzQkksV0FBVyxFQUFHLGlEQUNWLFFBRFUsd0JBRVYsS0FBS0MsTUFBTCxDQUFjLElBQWQsQ0FGVSx3QkFHVixLQUFLQyxPQUFMLENBQWUsSUFBZixDQUNILENBRURDLFdBQVcsRUFBRyxpREFDVixHQUFJLHlCQUNBLEtBQUtDLE9BQUwsR0FEQSx3QkFFQSxNQUFPLEtBQVAsQ0FDSCxDQUFDLE1BQU9DLEtBQVAsQ0FBYyx5QkFDWkMsT0FBTyxDQUFDRCxLQUFSLENBQWMsbUJBQWQsQ0FBbUNBLEtBQW5DLEVBRFksd0JBRVosTUFBTyxNQUFQLENBQ0gsQ0FDSixDQUVEO0FBQ2lCLEtBQVhFLENBQUFBLFdBQVcsRUFBRyxrREFDakIsS0FBS0wsT0FBTCxDQUFlRCxNQUFNLENBQUNPLE1BQVAsQ0FBYyxRQUFkLENBQXdCLENBQ2xDQyxFQUFFLENBQUUsQ0FDQUMsSUFBSSxDQUFFWixTQUFTLENBQUNhLE9BRGhCLENBRUFDLFFBQVEsQ0FBRSxJQUZWLENBR0FDLFVBQVUsQ0FBRSxJQUhaLENBSUFDLGFBQWEsQ0FBRSxJQUpmLENBRDhCLENBT2xDQyxJQUFJLENBQUUsQ0FDRkwsSUFBSSxDQUFFWixTQUFTLENBQUNrQixNQURkLENBRUZKLFFBQVEsQ0FBRSxJQUZSLENBUDRCLENBV2xDSyxLQUFLLENBQUUsQ0FDSFAsSUFBSSxDQUFFWixTQUFTLENBQUNrQixNQURiLENBRUhKLFFBQVEsQ0FBRSxJQUZQLENBWDJCLENBQXhCLENBZVgsQ0FDQ00sU0FBUyxDQUFFLFFBRFosQ0FFQ0MsZUFBZSxDQUFFLEtBRmxCLENBR0NDLFVBQVUsQ0FBRSxLQUhiLENBZlcsQ0FBZixDQXFCQztBQXRCZ0IseUJBdUJoQixLQUFNLE1BQUtsQixPQUFMLENBQWFtQixJQUFiLEVBQU4sQ0FDSCxDQUVEQyxNQUFNLENBQUNDLEtBQUQsQ0FBUSxrREFDVixNQUFPLE1BQUtyQixPQUFMLENBQWFvQixNQUFiLENBQW9CQyxLQUFwQixDQUFQLENBQ0gsQ0FFWSxLQUFQbkIsQ0FBQUEsT0FBTyxFQUFHLGtEQUNaLEtBQUtvQixPQUFMLENBQWUsR0FBSTFCLENBQUFBLFNBQUosQ0FDWDtBQUNBLFVBRlcsQ0FHWDtBQUNBLFFBSlcsQ0FLWDtBQUNBLE1BTlcsQ0FPWCxDQUNJMkIsSUFBSSxDQUFFLFdBRFYsQ0FFSUMsT0FBTyxDQUFFLFVBRmIsQ0FHSUMsZ0JBQWdCLENBQUUsQ0FIdEIsQ0FJSUMsZ0JBQWdCLENBQUUsQ0FKdEIsQ0FQVyxDQUFmLENBRFkseUJBZVosS0FBTSxNQUFLckIsV0FBTCxFQUFOLENBQ0gsQ0FoRTBCLEMseUJBbUUvQnNCLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQi9CLFVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSUNydWQgPSByZXF1aXJlKCcuL2ludGVyZmFjZXMvaW50ZXJmYWNlLmNydWQnKTtcbmNvbnN0IFNlcXVlbGl6ZSA9IHJlcXVpcmUoJ3NlcXVlbGl6ZScpO1xuXG5jbGFzcyBQb3N0Z3JlU1FMIGV4dGVuZHMgSUNydWQge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmRyaXZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX2hlcm9pcyA9IG51bGw7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkEgY29uZXjDo28gZmFsaG91IVwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBEZWZpbmltb3MgbyBub3NzbyBtb2RlbG8uXG4gICAgYXN5bmMgZGVmaW5lTW9kZWwoKSB7XG4gICAgICAgdGhpcy5faGVyb2lzID0gZHJpdmVyLmRlZmluZSgnaGVyb2lzJywge1xuICAgICAgICAgICAgaWQ6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTZXF1ZWxpemUuSU5URUdFUixcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICBwcmltYXJ5S2V5OiB0cnVlLFxuICAgICAgICAgICAgICAgIGF1dG9JbmNyZW1lbnQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub21lOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvZGVyOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU2VxdWVsaXplLlNUUklORyxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICB0YWJsZU5hbWU6ICdoZXJvZXMnLFxuICAgICAgICAgICAgZnJlZXplVGFibGVOYW1lOiBmYWxzZSxcbiAgICAgICAgICAgIHRpbWVzdGFtcHM6IGZhbHNlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFNpbmNyb25pemFtbyBjb20gbm9zc28gYmFuY28gZGUgZGFkb3MuXG4gICAgICAgIGF3YWl0IHRoaXMuX2hlcm9pcy5zeW5jKCk7XG4gICAgfVxuXG4gICAgY3JlYXRlKGhlcm9pKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9oZXJvaXMuY3JlYXRlKGhlcm9pKTtcbiAgICB9XG5cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl9kcml2ZXIgPSBuZXcgU2VxdWVsaXplKFxuICAgICAgICAgICAgLy8gZGF0YWJhc2VcbiAgICAgICAgICAgICdwb3N0Z3JlcycsXG4gICAgICAgICAgICAvLyB1c3VhcmlvXG4gICAgICAgICAgICAncm9ic29uJyxcbiAgICAgICAgICAgIC8vIHNlbmhhXG4gICAgICAgICAgICAncm9vdCcsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogJ3Bvc3RncmVzJyxcbiAgICAgICAgICAgICAgICBxdW90ZUlkZW50aWZpZXJzOiAwLFxuICAgICAgICAgICAgICAgIG9wZXJhdG9yc0FsaWFzZXM6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgICAgYXdhaXQgdGhpcy5kZWZpbmVNb2RlbCgpO1xuICAgIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBQb3N0Z3JlU1FMOyJdfQ==