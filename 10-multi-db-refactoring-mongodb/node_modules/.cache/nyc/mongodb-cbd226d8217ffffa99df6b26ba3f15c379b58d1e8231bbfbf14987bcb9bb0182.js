function cov_qvboh77ep(){var path="/home/seele/Projetos/NodeJS/curso_erickwendel/09-multi-db-postgres-mongodb/src/db/mongodb.js";var hash="c2d0365b85fe97d9f5cc53a057a5507fc195dd95";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/Projetos/NodeJS/curso_erickwendel/09-multi-db-postgres-mongodb/src/db/mongodb.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:52}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:3,column:15},end:{line:8,column:1}},"3":{start:{line:11,column:8},end:{line:11,column:16}},"4":{start:{line:12,column:8},end:{line:12,column:27}},"5":{start:{line:13,column:8},end:{line:13,column:27}},"6":{start:{line:14,column:8},end:{line:14,column:30}},"7":{start:{line:15,column:8},end:{line:15,column:27}},"8":{start:{line:16,column:8},end:{line:16,column:23}},"9":{start:{line:20,column:22},end:{line:20,column:56}},"10":{start:{line:21,column:8},end:{line:21,column:47}},"11":{start:{line:21,column:34},end:{line:21,column:47}},"12":{start:{line:22,column:8},end:{line:22,column:48}},"13":{start:{line:22,column:35},end:{line:22,column:48}},"14":{start:{line:24,column:8},end:{line:24,column:64}},"15":{start:{line:24,column:37},end:{line:24,column:62}},"16":{start:{line:25,column:8},end:{line:25,column:50}},"17":{start:{line:29,column:28},end:{line:38,column:10}},"18":{start:{line:40,column:8},end:{line:40,column:61}},"19":{start:{line:44,column:8},end:{line:49,column:11}},"20":{start:{line:47,column:12},end:{line:47,column:28}},"21":{start:{line:47,column:21},end:{line:47,column:28}},"22":{start:{line:48,column:12},end:{line:48,column:50}},"23":{start:{line:51,column:8},end:{line:51,column:46}},"24":{start:{line:52,column:8},end:{line:52,column:88}},"25":{start:{line:52,column:43},end:{line:52,column:86}},"26":{start:{line:56,column:8},end:{line:56,column:47}},"27":{start:{line:60,column:8},end:{line:60,column:58}},"28":{start:{line:64,column:0},end:{line:64,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:17,column:5}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:23},end:{line:26,column:5}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:26},end:{line:24,column:27}},loc:{start:{line:24,column:37},end:{line:24,column:62}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:18},end:{line:41,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:14},end:{line:53,column:5}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:46,column:8},end:{line:46,column:9}},loc:{start:{line:46,column:23},end:{line:49,column:9}},line:46},"6":{name:"(anonymous_6)",decl:{start:{line:52,column:37},end:{line:52,column:38}},loc:{start:{line:52,column:43},end:{line:52,column:86}},line:52},"7":{name:"(anonymous_7)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:23},end:{line:57,column:5}},line:55},"8":{name:"(anonymous_8)",decl:{start:{line:59,column:4},end:{line:59,column:5}},loc:{start:{line:59,column:21},end:{line:61,column:5}},line:59}},branchMap:{"0":{loc:{start:{line:21,column:8},end:{line:21,column:47}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:47}},{start:{line:21,column:8},end:{line:21,column:47}}],line:21},"1":{loc:{start:{line:22,column:8},end:{line:22,column:48}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:48}},{start:{line:22,column:8},end:{line:22,column:48}}],line:22},"2":{loc:{start:{line:47,column:12},end:{line:47,column:28}},type:"if",locations:[{start:{line:47,column:12},end:{line:47,column:28}},{start:{line:47,column:12},end:{line:47,column:28}}],line:47}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"c2d0365b85fe97d9f5cc53a057a5507fc195dd95"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_qvboh77ep=function(){return actualCoverage;};}return actualCoverage;}cov_qvboh77ep();const ICrud=(cov_qvboh77ep().s[0]++,require('./interfaces/interface.crud'));const Mongoose=(cov_qvboh77ep().s[1]++,require('mongoose'));const STATUS=(cov_qvboh77ep().s[2]++,{0:'Disconectado',1:'Conectado',2:'Conectando',3:'Disconectando'});class MongoDB extends ICrud{constructor(){cov_qvboh77ep().f[0]++;cov_qvboh77ep().s[3]++;super();cov_qvboh77ep().s[4]++;this._driver=null;cov_qvboh77ep().s[5]++;this._herois=null;cov_qvboh77ep().s[6]++;this.connection=null;cov_qvboh77ep().s[7]++;this.defineModel();cov_qvboh77ep().s[8]++;this.connect();}async isConnected(){cov_qvboh77ep().f[1]++;const state=(cov_qvboh77ep().s[9]++,STATUS[this.connection.readyState]);cov_qvboh77ep().s[10]++;if(state==='Conectado'){cov_qvboh77ep().b[0][0]++;cov_qvboh77ep().s[11]++;return state;}else{cov_qvboh77ep().b[0][1]++;}cov_qvboh77ep().s[12]++;if(state!=='Conectando'){cov_qvboh77ep().b[1][0]++;cov_qvboh77ep().s[13]++;return state;}else{cov_qvboh77ep().b[1][1]++;}cov_qvboh77ep().s[14]++;await new Promise(resolve=>{cov_qvboh77ep().f[2]++;cov_qvboh77ep().s[15]++;return setTimeout(resolve,1000);});cov_qvboh77ep().s[16]++;return STATUS[this.connection.readyState];}defineModel(){cov_qvboh77ep().f[3]++;const heroiSchema=(cov_qvboh77ep().s[17]++,new Mongoose.Schema({nome:{type:String,required:true},poder:{type:String,required:true}}));cov_qvboh77ep().s[18]++;this._herois=Mongoose.model('herois',heroiSchema);}connect(){cov_qvboh77ep().f[4]++;cov_qvboh77ep().s[19]++;Mongoose.connect('mongodb://admin:root@localhost:27017/herois?authSource=admin&readPreference=primary&ssl=false',{useUnifiedTopology:true,useNewUrlParser:true},function(err){cov_qvboh77ep().f[5]++;cov_qvboh77ep().s[20]++;if(!err){cov_qvboh77ep().b[2][0]++;cov_qvboh77ep().s[21]++;return;}else{cov_qvboh77ep().b[2][1]++;}cov_qvboh77ep().s[22]++;console.log('Falha na conexÃ£o!',err);});cov_qvboh77ep().s[23]++;this.connection=Mongoose.connection;cov_qvboh77ep().s[24]++;this.connection.once('Open',()=>{cov_qvboh77ep().f[6]++;cov_qvboh77ep().s[25]++;return console.log('Conectado ao banco de dados!');});}async create(item){cov_qvboh77ep().f[7]++;cov_qvboh77ep().s[26]++;return await this._herois.create(item);}async read(item){cov_qvboh77ep().f[8]++;cov_qvboh77ep().s[27]++;return await this._herois.find({where:{item}});}}cov_qvboh77ep().s[28]++;module.exports=MongoDB;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmdvZGIuanMiXSwibmFtZXMiOlsiSUNydWQiLCJyZXF1aXJlIiwiTW9uZ29vc2UiLCJTVEFUVVMiLCJNb25nb0RCIiwiY29uc3RydWN0b3IiLCJfZHJpdmVyIiwiX2hlcm9pcyIsImNvbm5lY3Rpb24iLCJkZWZpbmVNb2RlbCIsImNvbm5lY3QiLCJpc0Nvbm5lY3RlZCIsInN0YXRlIiwicmVhZHlTdGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImhlcm9pU2NoZW1hIiwiU2NoZW1hIiwibm9tZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInBvZGVyIiwibW9kZWwiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwib25jZSIsImNyZWF0ZSIsIml0ZW0iLCJyZWFkIiwiZmluZCIsIndoZXJlIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IjgySUFlWTt5RkFmWixLQUFNQSxDQUFBQSxLQUFLLHlCQUFHQyxPQUFPLENBQUMsNkJBQUQsQ0FBVixDQUFYLENBQ0EsS0FBTUMsQ0FBQUEsUUFBUSx5QkFBR0QsT0FBTyxDQUFDLFVBQUQsQ0FBVixDQUFkLENBQ0EsS0FBTUUsQ0FBQUEsTUFBTSx5QkFBRyxDQUNYLEVBQUcsY0FEUSxDQUVYLEVBQUcsV0FGUSxDQUdYLEVBQUcsWUFIUSxDQUlYLEVBQUcsZUFKUSxDQUFILENBQVosQ0FNQSxLQUFNQyxDQUFBQSxPQUFOLFFBQXNCSixDQUFBQSxLQUFNLENBQ3hCSyxXQUFXLEVBQUcsK0NBQ1YsUUFEVSx1QkFFVixLQUFLQyxPQUFMLENBQWUsSUFBZixDQUZVLHVCQUdWLEtBQUtDLE9BQUwsQ0FBZSxJQUFmLENBSFUsdUJBSVYsS0FBS0MsVUFBTCxDQUFrQixJQUFsQixDQUpVLHVCQUtWLEtBQUtDLFdBQUwsR0FMVSx1QkFNVixLQUFLQyxPQUFMLEdBQ0gsQ0FFZ0IsS0FBWEMsQ0FBQUEsV0FBVyxFQUFFLHdCQUNmLEtBQU1DLENBQUFBLEtBQUsseUJBQUdULE1BQU0sQ0FBQyxLQUFLSyxVQUFMLENBQWdCSyxVQUFqQixDQUFULENBQVgsQ0FEZSx3QkFFZixHQUFHRCxLQUFLLEdBQUssV0FBYixDQUEwQix5REFBT0EsQ0FBQUEsS0FBUCxDQUFhLENBQXZDLGdDQUZlLHdCQUdmLEdBQUdBLEtBQUssR0FBSyxZQUFiLENBQTJCLHlEQUFPQSxDQUFBQSxLQUFQLENBQWEsQ0FBeEMsZ0NBSGUsd0JBS2YsS0FBTSxJQUFJRSxDQUFBQSxPQUFKLENBQVlDLE9BQU8sRUFBSSxzREFBQUMsQ0FBQUEsVUFBVSxDQUFDRCxPQUFELENBQVUsSUFBVixDQUFWLENBQXlCLENBQWhELENBQU4sQ0FMZSx3QkFNZixNQUFPWixDQUFBQSxNQUFNLENBQUMsS0FBS0ssVUFBTCxDQUFnQkssVUFBakIsQ0FBYixDQUNILENBRURKLFdBQVcsRUFBRyx3QkFDVixLQUFNUSxDQUFBQSxXQUFXLDBCQUFHLEdBQUlmLENBQUFBLFFBQVEsQ0FBQ2dCLE1BQWIsQ0FBb0IsQ0FDcENDLElBQUksQ0FBRSxDQUNGQyxJQUFJLENBQUVDLE1BREosQ0FFRkMsUUFBUSxDQUFFLElBRlIsQ0FEOEIsQ0FLcENDLEtBQUssQ0FBRSxDQUNISCxJQUFJLENBQUVDLE1BREgsQ0FFSEMsUUFBUSxDQUFFLElBRlAsQ0FMNkIsQ0FBcEIsQ0FBSCxDQUFqQixDQURVLHdCQVlWLEtBQUtmLE9BQUwsQ0FBZUwsUUFBUSxDQUFDc0IsS0FBVCxDQUFlLFFBQWYsQ0FBeUJQLFdBQXpCLENBQWYsQ0FDSCxDQUVEUCxPQUFPLEVBQUcsZ0RBQ05SLFFBQVEsQ0FBQ1EsT0FBVCxDQUFpQiwrRkFBakIsQ0FDQSxDQUFFZSxrQkFBa0IsQ0FBRSxJQUF0QixDQUE0QkMsZUFBZSxDQUFFLElBQTdDLENBREEsQ0FFQSxTQUFVQyxHQUFWLENBQWUsZ0RBQ1gsR0FBRyxDQUFDQSxHQUFKLENBQVMsMERBQU8sQ0FBaEIsZ0NBRFcsd0JBRVhDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFaLENBQWlDRixHQUFqQyxFQUNILENBTEQsRUFETSx3QkFRTixLQUFLbkIsVUFBTCxDQUFrQk4sUUFBUSxDQUFDTSxVQUEzQixDQVJNLHdCQVNOLEtBQUtBLFVBQUwsQ0FBZ0JzQixJQUFoQixDQUFxQixNQUFyQixDQUE2QixJQUFNLHNEQUFBRixDQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSw4QkFBWixFQUEyQyxDQUE5RSxFQUNILENBRVcsS0FBTkUsQ0FBQUEsTUFBTSxDQUFDQyxJQUFELENBQU8sZ0RBQ2YsTUFBTyxNQUFNLE1BQUt6QixPQUFMLENBQWF3QixNQUFiLENBQW9CQyxJQUFwQixDQUFiLENBQ0gsQ0FFUyxLQUFKQyxDQUFBQSxJQUFJLENBQUNELElBQUQsQ0FBTyxnREFDYixNQUFPLE1BQU0sTUFBS3pCLE9BQUwsQ0FBYTJCLElBQWIsQ0FBa0IsQ0FBRUMsS0FBSyxDQUFFLENBQUVILElBQUYsQ0FBVCxDQUFsQixDQUFiLENBQ0gsQ0FwRHVCLEMsd0JBdUQ1QkksTUFBTSxDQUFDQyxPQUFQLENBQWlCakMsT0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBJQ3J1ZCA9IHJlcXVpcmUoJy4vaW50ZXJmYWNlcy9pbnRlcmZhY2UuY3J1ZCcpO1xuY29uc3QgTW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpO1xuY29uc3QgU1RBVFVTID0ge1xuICAgIDA6ICdEaXNjb25lY3RhZG8nLFxuICAgIDE6ICdDb25lY3RhZG8nLFxuICAgIDI6ICdDb25lY3RhbmRvJyxcbiAgICAzOiAnRGlzY29uZWN0YW5kbydcbn1cbmNsYXNzIE1vbmdvREIgZXh0ZW5kcyBJQ3J1ZCB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMuX2RyaXZlciA9IG51bGxcbiAgICAgICAgdGhpcy5faGVyb2lzID0gbnVsbFxuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBudWxsXG4gICAgICAgIHRoaXMuZGVmaW5lTW9kZWwoKTtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgYXN5bmMgaXNDb25uZWN0ZWQoKXsgXG4gICAgICAgIGNvbnN0IHN0YXRlID0gU1RBVFVTW3RoaXMuY29ubmVjdGlvbi5yZWFkeVN0YXRlXTtcbiAgICAgICAgaWYoc3RhdGUgPT09ICdDb25lY3RhZG8nKSByZXR1cm4gc3RhdGU7XG4gICAgICAgIGlmKHN0YXRlICE9PSAnQ29uZWN0YW5kbycpIHJldHVybiBzdGF0ZTtcblxuICAgICAgICBhd2FpdCBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHNldFRpbWVvdXQocmVzb2x2ZSwgMTAwMCkpO1xuICAgICAgICByZXR1cm4gU1RBVFVTW3RoaXMuY29ubmVjdGlvbi5yZWFkeVN0YXRlXTtcbiAgICB9XG5cbiAgICBkZWZpbmVNb2RlbCgpIHtcbiAgICAgICAgY29uc3QgaGVyb2lTY2hlbWEgPSBuZXcgTW9uZ29vc2UuU2NoZW1hKHtcbiAgICAgICAgICAgIG5vbWU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBTdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb2Rlcjoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgICBcbiAgICAgICAgdGhpcy5faGVyb2lzID0gTW9uZ29vc2UubW9kZWwoJ2hlcm9pcycsIGhlcm9pU2NoZW1hKTtcbiAgICB9XG5cbiAgICBjb25uZWN0KCkge1xuICAgICAgICBNb25nb29zZS5jb25uZWN0KCdtb25nb2RiOi8vYWRtaW46cm9vdEBsb2NhbGhvc3Q6MjcwMTcvaGVyb2lzP2F1dGhTb3VyY2U9YWRtaW4mcmVhZFByZWZlcmVuY2U9cHJpbWFyeSZzc2w9ZmFsc2UnLCBcbiAgICAgICAgeyB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWUsIHVzZU5ld1VybFBhcnNlcjogdHJ1ZX0sXG4gICAgICAgIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAgIGlmKCFlcnIpIHJldHVybjtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdGYWxoYSBuYSBjb25leMOjbyEnLCBlcnIpO1xuICAgICAgICB9KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IE1vbmdvb3NlLmNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbi5vbmNlKCdPcGVuJywgKCkgPT4gY29uc29sZS5sb2coJ0NvbmVjdGFkbyBhbyBiYW5jbyBkZSBkYWRvcyEnKSk7XG4gICAgfVxuXG4gICAgYXN5bmMgY3JlYXRlKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2hlcm9pcy5jcmVhdGUoaXRlbSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVhZChpdGVtKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9oZXJvaXMuZmluZCh7IHdoZXJlOiB7IGl0ZW0gfX0pXG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IE1vbmdvREI7Il19