function cov_h2u3tpnmw(){var path="/home/seele/projetos/robson/nodejs/curso_erickwendel/10-multi-db-refactory-mongodb/src/db/postgres/postgres.js";var hash="ab306e7bf429904370084e1b3983073e53d96eae";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/projetos/robson/nodejs/curso_erickwendel/10-multi-db-refactory-mongodb/src/db/postgres/postgres.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:53}},"1":{start:{line:2,column:18},end:{line:2,column:38}},"2":{start:{line:6,column:8},end:{line:6,column:16}},"3":{start:{line:7,column:8},end:{line:7,column:38}},"4":{start:{line:8,column:8},end:{line:8,column:30}},"5":{start:{line:12,column:8},end:{line:18,column:9}},"6":{start:{line:13,column:12},end:{line:14,column:28}},"7":{start:{line:14,column:16},end:{line:14,column:28}},"8":{start:{line:16,column:12},end:{line:16,column:54}},"9":{start:{line:17,column:12},end:{line:17,column:25}},"10":{start:{line:22,column:31},end:{line:22,column:63}},"11":{start:{line:23,column:8},end:{line:23,column:26}},"12":{start:{line:27,column:8},end:{line:27,column:65}},"13":{start:{line:31,column:8},end:{line:31,column:69}},"14":{start:{line:35,column:8},end:{line:35,column:64}},"15":{start:{line:39,column:0},end:{line:39,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:36},end:{line:9,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:11,column:4},end:{line:11,column:5}},loc:{start:{line:11,column:18},end:{line:19,column:5}},line:11},"2":{name:"(anonymous_2)",decl:{start:{line:21,column:4},end:{line:21,column:5}},loc:{start:{line:21,column:24},end:{line:24,column:5}},line:21},"3":{name:"(anonymous_3)",decl:{start:{line:26,column:4},end:{line:26,column:5}},loc:{start:{line:26,column:27},end:{line:28,column:5}},line:26},"4":{name:"(anonymous_4)",decl:{start:{line:30,column:4},end:{line:30,column:5}},loc:{start:{line:30,column:28},end:{line:32,column:5}},line:30},"5":{name:"(anonymous_5)",decl:{start:{line:34,column:4},end:{line:34,column:5}},loc:{start:{line:34,column:21},end:{line:36,column:5}},line:34}},branchMap:{"0":{loc:{start:{line:13,column:12},end:{line:14,column:28}},type:"if",locations:[{start:{line:13,column:12},end:{line:14,column:28}},{start:{line:13,column:12},end:{line:14,column:28}}],line:13},"1":{loc:{start:{line:26,column:15},end:{line:26,column:25}},type:"default-arg",locations:[{start:{line:26,column:23},end:{line:26,column:25}}],line:26}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0},b:{"0":[0,0],"1":[0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"ab306e7bf429904370084e1b3983073e53d96eae"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_h2u3tpnmw=function(){return actualCoverage;};}return actualCoverage;}cov_h2u3tpnmw();const ICrud=(cov_h2u3tpnmw().s[0]++,require('../interfaces/interface.crud'));const Sequelize=(cov_h2u3tpnmw().s[1]++,require('sequelize'));class PostgreSQL extends ICrud{constructor(connection,schema){cov_h2u3tpnmw().f[0]++;cov_h2u3tpnmw().s[2]++;super();cov_h2u3tpnmw().s[3]++;this._connection=connection;cov_h2u3tpnmw().s[4]++;this._schema=schema;}isConnected(){cov_h2u3tpnmw().f[1]++;cov_h2u3tpnmw().s[5]++;try{cov_h2u3tpnmw().s[6]++;if(this._connection){cov_h2u3tpnmw().b[0][0]++;cov_h2u3tpnmw().s[7]++;return true;}else{cov_h2u3tpnmw().b[0][1]++;}}catch(error){cov_h2u3tpnmw().s[8]++;console.error("A conex√£o falhou!",error);cov_h2u3tpnmw().s[9]++;return false;}}async create(heroi){cov_h2u3tpnmw().f[2]++;const{dataValues}=(cov_h2u3tpnmw().s[10]++,await this._schema.create(heroi));cov_h2u3tpnmw().s[11]++;return dataValues;}async read(heroi=(cov_h2u3tpnmw().b[1][0]++,{})){cov_h2u3tpnmw().f[3]++;cov_h2u3tpnmw().s[12]++;return this._schema.findAll({where:heroi,raw:true});}async update(id,heroi){cov_h2u3tpnmw().f[4]++;cov_h2u3tpnmw().s[13]++;return await this._schema.update(heroi,{where:{id:id}});}async delete(id){cov_h2u3tpnmw().f[5]++;cov_h2u3tpnmw().s[14]++;return await this._schema.destroy({where:{id:id}});}}cov_h2u3tpnmw().s[15]++;module.exports=PostgreSQL;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RncmVzLmpzIl0sIm5hbWVzIjpbIklDcnVkIiwicmVxdWlyZSIsIlNlcXVlbGl6ZSIsIlBvc3RncmVTUUwiLCJjb25zdHJ1Y3RvciIsImNvbm5lY3Rpb24iLCJzY2hlbWEiLCJfY29ubmVjdGlvbiIsIl9zY2hlbWEiLCJpc0Nvbm5lY3RlZCIsImVycm9yIiwiY29uc29sZSIsImNyZWF0ZSIsImhlcm9pIiwiZGF0YVZhbHVlcyIsInJlYWQiLCJmaW5kQWxsIiwid2hlcmUiLCJyYXciLCJ1cGRhdGUiLCJpZCIsImRlbGV0ZSIsImRlc3Ryb3kiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiaTVGQWVZO3lGQWZaLEtBQU1BLENBQUFBLEtBQUsseUJBQUdDLE9BQU8sQ0FBQyw4QkFBRCxDQUFWLENBQVgsQ0FDQSxLQUFNQyxDQUFBQSxTQUFTLHlCQUFHRCxPQUFPLENBQUMsV0FBRCxDQUFWLENBQWYsQ0FFQSxLQUFNRSxDQUFBQSxVQUFOLFFBQXlCSCxDQUFBQSxLQUFNLENBQzNCSSxXQUFXLENBQUNDLFVBQUQsQ0FBYUMsTUFBYixDQUFxQiwrQ0FDNUIsUUFENEIsdUJBRTVCLEtBQUtDLFdBQUwsQ0FBbUJGLFVBQW5CLENBRjRCLHVCQUc1QixLQUFLRyxPQUFMLENBQWVGLE1BQWYsQ0FDSCxDQUVERyxXQUFXLEVBQUcsK0NBQ1YsR0FBSSx3QkFDQSxHQUFHLEtBQUtGLFdBQVIsQ0FDSSx3REFBTyxLQUFQLENBQVksQ0FEaEIsZ0NBRUgsQ0FBQyxNQUFPRyxLQUFQLENBQWMsd0JBQ1pDLE9BQU8sQ0FBQ0QsS0FBUixDQUFjLG1CQUFkLENBQW1DQSxLQUFuQyxFQURZLHVCQUVaLE1BQU8sTUFBUCxDQUNILENBQ0osQ0FFVyxLQUFORSxDQUFBQSxNQUFNLENBQUNDLEtBQUQsQ0FBUSx3QkFDaEIsS0FBTSxDQUFFQyxVQUFGLDJCQUFpQixLQUFNLE1BQUtOLE9BQUwsQ0FBYUksTUFBYixDQUFvQkMsS0FBcEIsQ0FBdkIsQ0FBTixDQURnQix3QkFFaEIsTUFBT0MsQ0FBQUEsVUFBUCxDQUNILENBRVMsS0FBSkMsQ0FBQUEsSUFBSSxDQUFDRixLQUFLLDRCQUFHLEVBQUgsQ0FBTixDQUFhLGdEQUNuQixNQUFPLE1BQUtMLE9BQUwsQ0FBYVEsT0FBYixDQUFxQixDQUFFQyxLQUFLLENBQUVKLEtBQVQsQ0FBZ0JLLEdBQUcsQ0FBRSxJQUFyQixDQUFyQixDQUFQLENBQ0gsQ0FFVyxLQUFOQyxDQUFBQSxNQUFNLENBQUNDLEVBQUQsQ0FBS1AsS0FBTCxDQUFZLGdEQUNwQixNQUFPLE1BQU0sTUFBS0wsT0FBTCxDQUFhVyxNQUFiLENBQW9CTixLQUFwQixDQUEyQixDQUFDSSxLQUFLLENBQUUsQ0FBRUcsRUFBRSxDQUFFQSxFQUFOLENBQVIsQ0FBM0IsQ0FBYixDQUNILENBRVcsS0FBTkMsQ0FBQUEsTUFBTSxDQUFDRCxFQUFELENBQUssZ0RBQ2IsTUFBTyxNQUFNLE1BQUtaLE9BQUwsQ0FBYWMsT0FBYixDQUFxQixDQUFFTCxLQUFLLENBQUUsQ0FBRUcsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBckIsQ0FBYixDQUNILENBaEMwQixDLHdCQW1DL0JHLE1BQU0sQ0FBQ0MsT0FBUCxDQUFpQnJCLFVBQWpCIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgSUNydWQgPSByZXF1aXJlKCcuLi9pbnRlcmZhY2VzL2ludGVyZmFjZS5jcnVkJyk7XG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcblxuY2xhc3MgUG9zdGdyZVNRTCBleHRlbmRzIElDcnVkIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25uZWN0aW9uLCBzY2hlbWEpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgICAgIHRoaXMuX3NjaGVtYSA9IHNjaGVtYTtcbiAgICB9XG5cbiAgICBpc0Nvbm5lY3RlZCgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGlmKHRoaXMuX2Nvbm5lY3Rpb24pXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiQSBjb25leMOjbyBmYWxob3UhXCIsIGVycm9yKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZShoZXJvaSkge1xuICAgICAgICBjb25zdCB7IGRhdGFWYWx1ZXMgfSA9IGF3YWl0IHRoaXMuX3NjaGVtYS5jcmVhdGUoaGVyb2kpO1xuICAgICAgICByZXR1cm4gZGF0YVZhbHVlcztcbiAgICB9XG5cbiAgICBhc3luYyByZWFkKGhlcm9pID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NjaGVtYS5maW5kQWxsKHsgd2hlcmU6IGhlcm9pLCByYXc6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlKGlkLCBoZXJvaSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fc2NoZW1hLnVwZGF0ZShoZXJvaSwge3doZXJlOiB7IGlkOiBpZCB9fSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zY2hlbWEuZGVzdHJveSh7IHdoZXJlOiB7IGlkOiBpZCB9fSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3RncmVTUUw7Il19