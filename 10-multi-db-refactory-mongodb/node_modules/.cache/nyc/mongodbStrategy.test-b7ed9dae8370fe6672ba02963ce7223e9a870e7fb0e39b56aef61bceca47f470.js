function cov_ofgr9g363(){var path="/home/seele/projetos/robson/nodejs/curso_erickwendel/10-multi-db-refactory-mongodb/src/test/mongodbStrategy.test.js";var hash="8b9e266a8681ae0c11875b77f244cd17dc5fe9e2";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/projetos/robson/nodejs/curso_erickwendel/10-multi-db-refactory-mongodb/src/test/mongodbStrategy.test.js",statementMap:{"0":{start:{line:1,column:15},end:{line:1,column:32}},"1":{start:{line:2,column:16},end:{line:2,column:48}},"2":{start:{line:3,column:16},end:{line:3,column:53}},"3":{start:{line:4,column:20},end:{line:4,column:65}},"4":{start:{line:5,column:19},end:{line:5,column:61}},"5":{start:{line:7,column:16},end:{line:7,column:65}},"6":{start:{line:9,column:19},end:{line:12,column:1}},"7":{start:{line:14,column:27},end:{line:14,column:31}},"8":{start:{line:16,column:0},end:{line:53,column:2}},"9":{start:{line:17,column:4},end:{line:20,column:6}},"10":{start:{line:18,column:26},end:{line:18,column:53}},"11":{start:{line:19,column:8},end:{line:19,column:42}},"12":{start:{line:22,column:4},end:{line:26,column:6}},"13":{start:{line:23,column:34},end:{line:23,column:66}},"14":{start:{line:24,column:8},end:{line:24,column:34}},"15":{start:{line:25,column:8},end:{line:25,column:102}},"16":{start:{line:28,column:4},end:{line:31,column:6}},"17":{start:{line:29,column:23},end:{line:29,column:43}},"18":{start:{line:30,column:8},end:{line:30,column:89}},"19":{start:{line:33,column:4},end:{line:36,column:6}},"20":{start:{line:34,column:34},end:{line:34,column:79}},"21":{start:{line:35,column:8},end:{line:35,column:85}},"22":{start:{line:38,column:4},end:{line:47,column:6}},"23":{start:{line:39,column:32},end:{line:44,column:9}},"24":{start:{line:46,column:8},end:{line:46,column:78}},"25":{start:{line:49,column:4},end:{line:52,column:6}},"26":{start:{line:50,column:30},end:{line:50,column:72}},"27":{start:{line:51,column:8},end:{line:51,column:80}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:16,column:36},end:{line:16,column:37}},loc:{start:{line:16,column:42},end:{line:53,column:1}},line:16},"1":{name:"(anonymous_1)",decl:{start:{line:17,column:27},end:{line:17,column:28}},loc:{start:{line:17,column:39},end:{line:20,column:5}},line:17},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:29},end:{line:22,column:30}},loc:{start:{line:22,column:41},end:{line:26,column:5}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:26},end:{line:28,column:27}},loc:{start:{line:28,column:38},end:{line:31,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:33,column:35},end:{line:33,column:36}},loc:{start:{line:33,column:47},end:{line:36,column:5}},line:33},"5":{name:"(anonymous_5)",decl:{start:{line:38,column:28},end:{line:38,column:29}},loc:{start:{line:38,column:40},end:{line:47,column:5}},line:38},"6":{name:"(anonymous_6)",decl:{start:{line:49,column:26},end:{line:49,column:27}},loc:{start:{line:49,column:38},end:{line:52,column:5}},line:49}},branchMap:{},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0},b:{},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"8b9e266a8681ae0c11875b77f244cd17dc5fe9e2"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_ofgr9g363=function(){return actualCoverage;};}return actualCoverage;}cov_ofgr9g363();const assert=(cov_ofgr9g363().s[0]++,require('assert'));const MongoDB=(cov_ofgr9g363().s[1]++,require('../db/mongodb/mongodb'));const Context=(cov_ofgr9g363().s[2]++,require('../db/base/contentStrategy'));const heroiSchema=(cov_ofgr9g363().s[3]++,require('../db/mongodb/schemas/heroisSchema'));const connection=(cov_ofgr9g363().s[4]++,require('../db/mongodb/config/connection'));const context=(cov_ofgr9g363().s[5]++,new Context(new MongoDB(connection,heroiSchema)));const MOCK_HEROI=(cov_ofgr9g363().s[6]++,{nome:'Robson',poder:'Garoto de Programa'});var MOCK_HEROI_TO_UPDATE=(cov_ofgr9g363().s[7]++,null);cov_ofgr9g363().s[8]++;describe('MongoDB Suite de testes',()=>{cov_ofgr9g363().f[0]++;cov_ofgr9g363().s[9]++;it('Verifica conexão',async()=>{cov_ofgr9g363().f[1]++;const resultado=(cov_ofgr9g363().s[10]++,await context.isConnected());cov_ofgr9g363().s[11]++;assert.ok(resultado,'Conectado');});cov_ofgr9g363().s[12]++;it('Cadastrar um heroi',async()=>{cov_ofgr9g363().f[2]++;const{id,nome,poder}=(cov_ofgr9g363().s[13]++,await context.create(MOCK_HEROI));cov_ofgr9g363().s[14]++;MOCK_HEROI_TO_UPDATE=id;cov_ofgr9g363().s[15]++;assert.deepStrictEqual({nome,poder},MOCK_HEROI,'Problema ao tentar cadastrar um heroi!');});cov_ofgr9g363().s[16]++;it('Listando herois',async()=>{cov_ofgr9g363().f[3]++;const herois=(cov_ofgr9g363().s[17]++,await context.read());cov_ofgr9g363().s[18]++;assert.deepStrictEqual(herois.length>=1,true,'Não retornou a lista herois.');});cov_ofgr9g363().s[19]++;it('Buscando heroi pelo nome',async()=>{cov_ofgr9g363().f[4]++;const[{nome,poder}]=(cov_ofgr9g363().s[20]++,await context.read({nome:MOCK_HEROI.nome}));cov_ofgr9g363().s[21]++;assert.deepStrictEqual({nome,poder},MOCK_HEROI,'Não retornou o heroi.');});cov_ofgr9g363().s[22]++;it('Atualizar o heroi',async()=>{cov_ofgr9g363().f[5]++;const heroiAtualizado=(cov_ofgr9g363().s[23]++,await context.update(MOCK_HEROI_TO_UPDATE,{nome:'Ana',poder:'Medicina'}));cov_ofgr9g363().s[24]++;assert.deepStrictEqual(heroiAtualizado.ok,1,'Heroi não atualizado');});cov_ofgr9g363().s[25]++;it('Remover o heroi',async()=>{cov_ofgr9g363().f[6]++;const heroiRemovido=(cov_ofgr9g363().s[26]++,await context.delete(MOCK_HEROI_TO_UPDATE));cov_ofgr9g363().s[27]++;assert.deepStrictEqual(heroiRemovido.ok,1,'O heroi não foi removido');});});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmdvZGJTdHJhdGVneS50ZXN0LmpzIl0sIm5hbWVzIjpbImFzc2VydCIsInJlcXVpcmUiLCJNb25nb0RCIiwiQ29udGV4dCIsImhlcm9pU2NoZW1hIiwiY29ubmVjdGlvbiIsImNvbnRleHQiLCJNT0NLX0hFUk9JIiwibm9tZSIsInBvZGVyIiwiTU9DS19IRVJPSV9UT19VUERBVEUiLCJkZXNjcmliZSIsIml0IiwicmVzdWx0YWRvIiwiaXNDb25uZWN0ZWQiLCJvayIsImlkIiwiY3JlYXRlIiwiZGVlcFN0cmljdEVxdWFsIiwiaGVyb2lzIiwicmVhZCIsImxlbmd0aCIsImhlcm9pQXR1YWxpemFkbyIsInVwZGF0ZSIsImhlcm9pUmVtb3ZpZG8iLCJkZWxldGUiXSwibWFwcGluZ3MiOiJ5OEdBZVk7eUZBZlosS0FBTUEsQ0FBQUEsTUFBTSx5QkFBR0MsT0FBTyxDQUFDLFFBQUQsQ0FBVixDQUFaLENBQ0EsS0FBTUMsQ0FBQUEsT0FBTyx5QkFBR0QsT0FBTyxDQUFDLHVCQUFELENBQVYsQ0FBYixDQUNBLEtBQU1FLENBQUFBLE9BQU8seUJBQUdGLE9BQU8sQ0FBQyw0QkFBRCxDQUFWLENBQWIsQ0FDQSxLQUFNRyxDQUFBQSxXQUFXLHlCQUFHSCxPQUFPLENBQUMsb0NBQUQsQ0FBVixDQUFqQixDQUNBLEtBQU1JLENBQUFBLFVBQVUseUJBQUdKLE9BQU8sQ0FBQyxpQ0FBRCxDQUFWLENBQWhCLENBRUEsS0FBTUssQ0FBQUEsT0FBTyx5QkFBRyxHQUFJSCxDQUFBQSxPQUFKLENBQVksR0FBSUQsQ0FBQUEsT0FBSixDQUFZRyxVQUFaLENBQXdCRCxXQUF4QixDQUFaLENBQUgsQ0FBYixDQUVBLEtBQU1HLENBQUFBLFVBQVUseUJBQUcsQ0FDZkMsSUFBSSxDQUFFLFFBRFMsQ0FFZkMsS0FBSyxDQUFFLG9CQUZRLENBQUgsQ0FBaEIsQ0FLQSxHQUFJQyxDQUFBQSxvQkFBb0IseUJBQUcsSUFBSCxDQUF4QixDLHVCQUVBQyxRQUFRLENBQUMseUJBQUQsQ0FBNEIsSUFBTSwrQ0FDdENDLEVBQUUsQ0FBQyxrQkFBRCxDQUFxQixTQUFZLHdCQUMvQixLQUFNQyxDQUFBQSxTQUFTLDBCQUFHLEtBQU1QLENBQUFBLE9BQU8sQ0FBQ1EsV0FBUixFQUFULENBQWYsQ0FEK0Isd0JBRS9CZCxNQUFNLENBQUNlLEVBQVAsQ0FBVUYsU0FBVixDQUFxQixXQUFyQixFQUNILENBSEMsQ0FBRixDQURzQyx3QkFNdENELEVBQUUsQ0FBQyxvQkFBRCxDQUF1QixTQUFZLHdCQUNqQyxLQUFNLENBQUNJLEVBQUQsQ0FBS1IsSUFBTCxDQUFXQyxLQUFYLDJCQUFvQixLQUFNSCxDQUFBQSxPQUFPLENBQUNXLE1BQVIsQ0FBZVYsVUFBZixDQUExQixDQUFOLENBRGlDLHdCQUVqQ0csb0JBQW9CLENBQUdNLEVBQXZCLENBRmlDLHdCQUdqQ2hCLE1BQU0sQ0FBQ2tCLGVBQVAsQ0FBdUIsQ0FBRVYsSUFBRixDQUFRQyxLQUFSLENBQXZCLENBQXdDRixVQUF4QyxDQUFvRCx3Q0FBcEQsRUFDSCxDQUpDLENBQUYsQ0FOc0Msd0JBWXRDSyxFQUFFLENBQUMsaUJBQUQsQ0FBb0IsU0FBWSx3QkFDOUIsS0FBTU8sQ0FBQUEsTUFBTSwwQkFBRyxLQUFNYixDQUFBQSxPQUFPLENBQUNjLElBQVIsRUFBVCxDQUFaLENBRDhCLHdCQUU5QnBCLE1BQU0sQ0FBQ2tCLGVBQVAsQ0FBdUJDLE1BQU0sQ0FBQ0UsTUFBUCxFQUFpQixDQUF4QyxDQUEyQyxJQUEzQyxDQUFpRCw4QkFBakQsRUFDSCxDQUhDLENBQUYsQ0Fac0Msd0JBaUJ0Q1QsRUFBRSxDQUFDLDBCQUFELENBQTZCLFNBQVksd0JBQ3ZDLEtBQU0sQ0FBQyxDQUFFSixJQUFGLENBQVFDLEtBQVIsQ0FBRCwyQkFBb0IsS0FBTUgsQ0FBQUEsT0FBTyxDQUFDYyxJQUFSLENBQWEsQ0FBRVosSUFBSSxDQUFFRCxVQUFVLENBQUNDLElBQW5CLENBQWIsQ0FBMUIsQ0FBTixDQUR1Qyx3QkFFdkNSLE1BQU0sQ0FBQ2tCLGVBQVAsQ0FBdUIsQ0FBRVYsSUFBRixDQUFRQyxLQUFSLENBQXZCLENBQXdDRixVQUF4QyxDQUFvRCx1QkFBcEQsRUFDSCxDQUhDLENBQUYsQ0FqQnNDLHdCQXNCdENLLEVBQUUsQ0FBQyxtQkFBRCxDQUFzQixTQUFZLHdCQUNoQyxLQUFNVSxDQUFBQSxlQUFlLDBCQUFHLEtBQU1oQixDQUFBQSxPQUFPLENBQUNpQixNQUFSLENBQzFCYixvQkFEMEIsQ0FDSixDQUNsQkYsSUFBSSxDQUFFLEtBRFksQ0FFbEJDLEtBQUssQ0FBRSxVQUZXLENBREksQ0FBVCxDQUFyQixDQURnQyx3QkFRaENULE1BQU0sQ0FBQ2tCLGVBQVAsQ0FBdUJJLGVBQWUsQ0FBQ1AsRUFBdkMsQ0FBMkMsQ0FBM0MsQ0FBOEMsc0JBQTlDLEVBQ0gsQ0FUQyxDQUFGLENBdEJzQyx3QkFpQ3RDSCxFQUFFLENBQUMsaUJBQUQsQ0FBb0IsU0FBWSx3QkFDOUIsS0FBTVksQ0FBQUEsYUFBYSwwQkFBRyxLQUFNbEIsQ0FBQUEsT0FBTyxDQUFDbUIsTUFBUixDQUFlZixvQkFBZixDQUFULENBQW5CLENBRDhCLHdCQUU5QlYsTUFBTSxDQUFDa0IsZUFBUCxDQUF1Qk0sYUFBYSxDQUFDVCxFQUFyQyxDQUF5QyxDQUF6QyxDQUE0QywwQkFBNUMsRUFDSCxDQUhDLENBQUYsQ0FJSCxDQXJDTyxDQUFSIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgYXNzZXJ0ID0gcmVxdWlyZSgnYXNzZXJ0Jyk7XG5jb25zdCBNb25nb0RCID0gcmVxdWlyZSgnLi4vZGIvbW9uZ29kYi9tb25nb2RiJyk7XG5jb25zdCBDb250ZXh0ID0gcmVxdWlyZSgnLi4vZGIvYmFzZS9jb250ZW50U3RyYXRlZ3knKTtcbmNvbnN0IGhlcm9pU2NoZW1hID0gcmVxdWlyZSgnLi4vZGIvbW9uZ29kYi9zY2hlbWFzL2hlcm9pc1NjaGVtYScpO1xuY29uc3QgY29ubmVjdGlvbiA9IHJlcXVpcmUoJy4uL2RiL21vbmdvZGIvY29uZmlnL2Nvbm5lY3Rpb24nKTtcblxuY29uc3QgY29udGV4dCA9IG5ldyBDb250ZXh0KG5ldyBNb25nb0RCKGNvbm5lY3Rpb24sIGhlcm9pU2NoZW1hKSk7XG5cbmNvbnN0IE1PQ0tfSEVST0kgPSB7XG4gICAgbm9tZTogJ1JvYnNvbicsXG4gICAgcG9kZXI6ICdHYXJvdG8gZGUgUHJvZ3JhbWEnXG59XG5cbnZhciBNT0NLX0hFUk9JX1RPX1VQREFURSA9IG51bGw7XG5cbmRlc2NyaWJlKCdNb25nb0RCIFN1aXRlIGRlIHRlc3RlcycsICgpID0+IHtcbiAgICBpdCgnVmVyaWZpY2EgY29uZXjDo28nLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdGFkbyA9IGF3YWl0IGNvbnRleHQuaXNDb25uZWN0ZWQoKTtcbiAgICAgICAgYXNzZXJ0Lm9rKHJlc3VsdGFkbywgJ0NvbmVjdGFkbycpO1xuICAgIH0pXG5cbiAgICBpdCgnQ2FkYXN0cmFyIHVtIGhlcm9pJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCB7aWQsIG5vbWUsIHBvZGVyfSA9IGF3YWl0IGNvbnRleHQuY3JlYXRlKE1PQ0tfSEVST0kpO1xuICAgICAgICBNT0NLX0hFUk9JX1RPX1VQREFURSA9IGlkO1xuICAgICAgICBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKHsgbm9tZSwgcG9kZXIgfSwgTU9DS19IRVJPSSwgJ1Byb2JsZW1hIGFvIHRlbnRhciBjYWRhc3RyYXIgdW0gaGVyb2khJyk7XG4gICAgfSlcblxuICAgIGl0KCdMaXN0YW5kbyBoZXJvaXMnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IGhlcm9pcyA9IGF3YWl0IGNvbnRleHQucmVhZCgpO1xuICAgICAgICBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKGhlcm9pcy5sZW5ndGggPj0gMSwgdHJ1ZSwgJ07Do28gcmV0b3Jub3UgYSBsaXN0YSBoZXJvaXMuJyk7XG4gICAgfSlcblxuICAgIGl0KCdCdXNjYW5kbyBoZXJvaSBwZWxvIG5vbWUnLCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGNvbnN0IFt7IG5vbWUsIHBvZGVyIH1dID0gYXdhaXQgY29udGV4dC5yZWFkKHsgbm9tZTogTU9DS19IRVJPSS5ub21lIH0pO1xuICAgICAgICBhc3NlcnQuZGVlcFN0cmljdEVxdWFsKHsgbm9tZSwgcG9kZXIgfSwgTU9DS19IRVJPSSwgJ07Do28gcmV0b3Jub3UgbyBoZXJvaS4nKTtcbiAgICB9KVxuXG4gICAgaXQoJ0F0dWFsaXphciBvIGhlcm9pJywgYXN5bmMgKCkgPT4ge1xuICAgICAgICBjb25zdCBoZXJvaUF0dWFsaXphZG8gPSBhd2FpdCBjb250ZXh0LnVwZGF0ZSggXG4gICAgICAgICAgICBNT0NLX0hFUk9JX1RPX1VQREFURSwge1xuICAgICAgICAgICAgICAgIG5vbWU6ICdBbmEnLFxuICAgICAgICAgICAgICAgIHBvZGVyOiAnTWVkaWNpbmEnXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChoZXJvaUF0dWFsaXphZG8ub2ssIDEsICdIZXJvaSBuw6NvIGF0dWFsaXphZG8nKTtcbiAgICB9KVxuXG4gICAgaXQoJ1JlbW92ZXIgbyBoZXJvaScsIGFzeW5jICgpID0+IHtcbiAgICAgICAgY29uc3QgaGVyb2lSZW1vdmlkbyA9IGF3YWl0IGNvbnRleHQuZGVsZXRlKE1PQ0tfSEVST0lfVE9fVVBEQVRFKTtcbiAgICAgICAgYXNzZXJ0LmRlZXBTdHJpY3RFcXVhbChoZXJvaVJlbW92aWRvLm9rLCAxLCAnTyBoZXJvaSBuw6NvIGZvaSByZW1vdmlkbycpO1xuICAgIH0pXG59KSJdfQ==