function cov_gq7ge3brj(){var path="/home/seele/Projetos/NodeJS/curso_erickwendel/09-multi-db-postgres-mongodb/src/db/postgres.js";var hash="57be246262c84a33aa747d4a00c0267770ebc885";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/Projetos/NodeJS/curso_erickwendel/09-multi-db-postgres-mongodb/src/db/postgres.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:52}},"1":{start:{line:2,column:18},end:{line:2,column:38}},"2":{start:{line:6,column:8},end:{line:6,column:16}},"3":{start:{line:7,column:8},end:{line:7,column:28}},"4":{start:{line:8,column:8},end:{line:8,column:28}},"5":{start:{line:9,column:8},end:{line:9,column:23}},"6":{start:{line:13,column:8},end:{line:19,column:9}},"7":{start:{line:14,column:12},end:{line:14,column:27}},"8":{start:{line:15,column:12},end:{line:15,column:24}},"9":{start:{line:17,column:12},end:{line:17,column:54}},"10":{start:{line:18,column:12},end:{line:18,column:25}},"11":{start:{line:23,column:8},end:{line:36,column:10}},"12":{start:{line:38,column:8},end:{line:38,column:33}},"13":{start:{line:43,column:7},end:{line:62,column:11}},"14":{start:{line:65,column:8},end:{line:65,column:28}},"15":{start:{line:69,column:31},end:{line:69,column:63}},"16":{start:{line:70,column:8},end:{line:70,column:26}},"17":{start:{line:74,column:8},end:{line:74,column:65}},"18":{start:{line:78,column:8},end:{line:78,column:69}},"19":{start:{line:82,column:8},end:{line:82,column:64}},"20":{start:{line:86,column:0},end:{line:86,column:28}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:5,column:4},end:{line:5,column:5}},loc:{start:{line:5,column:18},end:{line:10,column:5}},line:5},"1":{name:"(anonymous_1)",decl:{start:{line:12,column:4},end:{line:12,column:5}},loc:{start:{line:12,column:18},end:{line:20,column:5}},line:12},"2":{name:"(anonymous_2)",decl:{start:{line:22,column:4},end:{line:22,column:5}},loc:{start:{line:22,column:20},end:{line:39,column:5}},line:22},"3":{name:"(anonymous_3)",decl:{start:{line:42,column:4},end:{line:42,column:5}},loc:{start:{line:42,column:24},end:{line:66,column:5}},line:42},"4":{name:"(anonymous_4)",decl:{start:{line:68,column:4},end:{line:68,column:5}},loc:{start:{line:68,column:24},end:{line:71,column:5}},line:68},"5":{name:"(anonymous_5)",decl:{start:{line:73,column:4},end:{line:73,column:5}},loc:{start:{line:73,column:27},end:{line:75,column:5}},line:73},"6":{name:"(anonymous_6)",decl:{start:{line:77,column:4},end:{line:77,column:5}},loc:{start:{line:77,column:28},end:{line:79,column:5}},line:77},"7":{name:"(anonymous_7)",decl:{start:{line:81,column:4},end:{line:81,column:5}},loc:{start:{line:81,column:21},end:{line:83,column:5}},line:81}},branchMap:{"0":{loc:{start:{line:73,column:15},end:{line:73,column:25}},type:"default-arg",locations:[{start:{line:73,column:23},end:{line:73,column:25}}],line:73}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"57be246262c84a33aa747d4a00c0267770ebc885"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_gq7ge3brj=function(){return actualCoverage;};}return actualCoverage;}cov_gq7ge3brj();const ICrud=(cov_gq7ge3brj().s[0]++,require('./interfaces/interface.crud'));const Sequelize=(cov_gq7ge3brj().s[1]++,require('sequelize'));class PostgreSQL extends ICrud{constructor(){cov_gq7ge3brj().f[0]++;cov_gq7ge3brj().s[2]++;super();cov_gq7ge3brj().s[3]++;this._driver=null;cov_gq7ge3brj().s[4]++;this._herois=null;cov_gq7ge3brj().s[5]++;this.connect();}isConnected(){cov_gq7ge3brj().f[1]++;cov_gq7ge3brj().s[6]++;try{cov_gq7ge3brj().s[7]++;this.connect();cov_gq7ge3brj().s[8]++;return true;}catch(error){cov_gq7ge3brj().s[9]++;console.error("A conex√£o falhou!",error);cov_gq7ge3brj().s[10]++;return false;}}async connect(){cov_gq7ge3brj().f[2]++;cov_gq7ge3brj().s[11]++;this._driver=new Sequelize(// database
'postgres',// usuario
'robson',// senha
'root',{host:'localhost',dialect:'postgres',quoteIdentifiers:0,operatorsAliases:0});cov_gq7ge3brj().s[12]++;await this.defineModel();}// Definimos o nosso modelo.
async defineModel(){cov_gq7ge3brj().f[3]++;cov_gq7ge3brj().s[13]++;this._herois=this._driver.define('herois',{id:{type:Sequelize.INTEGER,required:true,primaryKey:true,autoIncrement:true},nome:{type:Sequelize.STRING,required:true},poder:{type:Sequelize.STRING,required:true}},{tableName:'heroes',freezeTableName:false,timestamps:false});// Sincronizamo com nosso banco de dados.
cov_gq7ge3brj().s[14]++;this._herois.sync();}async create(heroi){cov_gq7ge3brj().f[4]++;const{dataValues}=(cov_gq7ge3brj().s[15]++,await this._herois.create(heroi));cov_gq7ge3brj().s[16]++;return dataValues;}async read(heroi=(cov_gq7ge3brj().b[0][0]++,{})){cov_gq7ge3brj().f[5]++;cov_gq7ge3brj().s[17]++;return this._herois.findAll({where:heroi,raw:true});}async update(id,heroi){cov_gq7ge3brj().f[6]++;cov_gq7ge3brj().s[18]++;return await this._herois.update(heroi,{where:{id:id}});}async delete(id){cov_gq7ge3brj().f[7]++;cov_gq7ge3brj().s[19]++;return await this._herois.destroy({where:{id:id}});}}cov_gq7ge3brj().s[20]++;module.exports=PostgreSQL;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBvc3RncmVzLmpzIl0sIm5hbWVzIjpbIklDcnVkIiwicmVxdWlyZSIsIlNlcXVlbGl6ZSIsIlBvc3RncmVTUUwiLCJjb25zdHJ1Y3RvciIsIl9kcml2ZXIiLCJfaGVyb2lzIiwiY29ubmVjdCIsImlzQ29ubmVjdGVkIiwiZXJyb3IiLCJjb25zb2xlIiwiaG9zdCIsImRpYWxlY3QiLCJxdW90ZUlkZW50aWZpZXJzIiwib3BlcmF0b3JzQWxpYXNlcyIsImRlZmluZU1vZGVsIiwiZGVmaW5lIiwiaWQiLCJ0eXBlIiwiSU5URUdFUiIsInJlcXVpcmVkIiwicHJpbWFyeUtleSIsImF1dG9JbmNyZW1lbnQiLCJub21lIiwiU1RSSU5HIiwicG9kZXIiLCJ0YWJsZU5hbWUiLCJmcmVlemVUYWJsZU5hbWUiLCJ0aW1lc3RhbXBzIiwic3luYyIsImNyZWF0ZSIsImhlcm9pIiwiZGF0YVZhbHVlcyIsInJlYWQiLCJmaW5kQWxsIiwid2hlcmUiLCJyYXciLCJ1cGRhdGUiLCJkZWxldGUiLCJkZXN0cm95IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Inl3R0FlWTt5RkFmWixLQUFNQSxDQUFBQSxLQUFLLHlCQUFHQyxPQUFPLENBQUMsNkJBQUQsQ0FBVixDQUFYLENBQ0EsS0FBTUMsQ0FBQUEsU0FBUyx5QkFBR0QsT0FBTyxDQUFDLFdBQUQsQ0FBVixDQUFmLENBRUEsS0FBTUUsQ0FBQUEsVUFBTixRQUF5QkgsQ0FBQUEsS0FBTSxDQUMzQkksV0FBVyxFQUFHLCtDQUNWLFFBRFUsdUJBRVYsS0FBS0MsT0FBTCxDQUFlLElBQWYsQ0FGVSx1QkFHVixLQUFLQyxPQUFMLENBQWUsSUFBZixDQUhVLHVCQUlWLEtBQUtDLE9BQUwsR0FDSCxDQUVEQyxXQUFXLEVBQUcsK0NBQ1YsR0FBSSx3QkFDQSxLQUFLRCxPQUFMLEdBREEsdUJBRUEsTUFBTyxLQUFQLENBQ0gsQ0FBQyxNQUFPRSxLQUFQLENBQWMsd0JBQ1pDLE9BQU8sQ0FBQ0QsS0FBUixDQUFjLG1CQUFkLENBQW1DQSxLQUFuQyxFQURZLHdCQUVaLE1BQU8sTUFBUCxDQUNILENBQ0osQ0FFWSxLQUFQRixDQUFBQSxPQUFPLEVBQUcsZ0RBQ1osS0FBS0YsT0FBTCxDQUFlLEdBQUlILENBQUFBLFNBQUosQ0FDWDtBQUNBLFVBRlcsQ0FHWDtBQUNBLFFBSlcsQ0FLWDtBQUNBLE1BTlcsQ0FPWCxDQUNJUyxJQUFJLENBQUUsV0FEVixDQUVJQyxPQUFPLENBQUUsVUFGYixDQUdJQyxnQkFBZ0IsQ0FBRSxDQUh0QixDQUlJQyxnQkFBZ0IsQ0FBRSxDQUp0QixDQVBXLENBQWYsQ0FEWSx3QkFnQlosS0FBTSxNQUFLQyxXQUFMLEVBQU4sQ0FDSCxDQUVEO0FBQ2lCLEtBQVhBLENBQUFBLFdBQVcsRUFBRyxnREFDakIsS0FBS1QsT0FBTCxDQUFlLEtBQUtELE9BQUwsQ0FBYVcsTUFBYixDQUFvQixRQUFwQixDQUE4QixDQUN4Q0MsRUFBRSxDQUFFLENBQ0FDLElBQUksQ0FBRWhCLFNBQVMsQ0FBQ2lCLE9BRGhCLENBRUFDLFFBQVEsQ0FBRSxJQUZWLENBR0FDLFVBQVUsQ0FBRSxJQUhaLENBSUFDLGFBQWEsQ0FBRSxJQUpmLENBRG9DLENBT3hDQyxJQUFJLENBQUUsQ0FDRkwsSUFBSSxDQUFFaEIsU0FBUyxDQUFDc0IsTUFEZCxDQUVGSixRQUFRLENBQUUsSUFGUixDQVBrQyxDQVd4Q0ssS0FBSyxDQUFFLENBQ0hQLElBQUksQ0FBRWhCLFNBQVMsQ0FBQ3NCLE1BRGIsQ0FFSEosUUFBUSxDQUFFLElBRlAsQ0FYaUMsQ0FBOUIsQ0FlWCxDQUNDTSxTQUFTLENBQUUsUUFEWixDQUVDQyxlQUFlLENBQUUsS0FGbEIsQ0FHQ0MsVUFBVSxDQUFFLEtBSGIsQ0FmVyxDQUFmLENBcUJDO0FBdEJnQix3QkF1QmhCLEtBQUt0QixPQUFMLENBQWF1QixJQUFiLEdBQ0gsQ0FFVyxLQUFOQyxDQUFBQSxNQUFNLENBQUNDLEtBQUQsQ0FBUSx3QkFDaEIsS0FBTSxDQUFFQyxVQUFGLDJCQUFpQixLQUFNLE1BQUsxQixPQUFMLENBQWF3QixNQUFiLENBQW9CQyxLQUFwQixDQUF2QixDQUFOLENBRGdCLHdCQUVoQixNQUFPQyxDQUFBQSxVQUFQLENBQ0gsQ0FFUyxLQUFKQyxDQUFBQSxJQUFJLENBQUNGLEtBQUssNEJBQUcsRUFBSCxDQUFOLENBQWEsZ0RBQ25CLE1BQU8sTUFBS3pCLE9BQUwsQ0FBYTRCLE9BQWIsQ0FBcUIsQ0FBRUMsS0FBSyxDQUFFSixLQUFULENBQWdCSyxHQUFHLENBQUUsSUFBckIsQ0FBckIsQ0FBUCxDQUNILENBRVcsS0FBTkMsQ0FBQUEsTUFBTSxDQUFDcEIsRUFBRCxDQUFLYyxLQUFMLENBQVksZ0RBQ3BCLE1BQU8sTUFBTSxNQUFLekIsT0FBTCxDQUFhK0IsTUFBYixDQUFvQk4sS0FBcEIsQ0FBMkIsQ0FBQ0ksS0FBSyxDQUFFLENBQUVsQixFQUFFLENBQUVBLEVBQU4sQ0FBUixDQUEzQixDQUFiLENBQ0gsQ0FFVyxLQUFOcUIsQ0FBQUEsTUFBTSxDQUFDckIsRUFBRCxDQUFLLGdEQUNiLE1BQU8sTUFBTSxNQUFLWCxPQUFMLENBQWFpQyxPQUFiLENBQXFCLENBQUVKLEtBQUssQ0FBRSxDQUFFbEIsRUFBRSxDQUFFQSxFQUFOLENBQVQsQ0FBckIsQ0FBYixDQUNILENBL0UwQixDLHdCQWtGL0J1QixNQUFNLENBQUNDLE9BQVAsQ0FBaUJ0QyxVQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IElDcnVkID0gcmVxdWlyZSgnLi9pbnRlcmZhY2VzL2ludGVyZmFjZS5jcnVkJyk7XG5jb25zdCBTZXF1ZWxpemUgPSByZXF1aXJlKCdzZXF1ZWxpemUnKTtcblxuY2xhc3MgUG9zdGdyZVNRTCBleHRlbmRzIElDcnVkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZHJpdmVyID0gbnVsbDtcbiAgICAgICAgdGhpcy5faGVyb2lzID0gbnVsbDtcbiAgICAgICAgdGhpcy5jb25uZWN0KCk7XG4gICAgfVxuXG4gICAgaXNDb25uZWN0ZWQoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihcIkEgY29uZXjDo28gZmFsaG91IVwiLCBlcnJvcik7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhc3luYyBjb25uZWN0KCkge1xuICAgICAgICB0aGlzLl9kcml2ZXIgPSBuZXcgU2VxdWVsaXplKFxuICAgICAgICAgICAgLy8gZGF0YWJhc2VcbiAgICAgICAgICAgICdwb3N0Z3JlcycsXG4gICAgICAgICAgICAvLyB1c3VhcmlvXG4gICAgICAgICAgICAncm9ic29uJyxcbiAgICAgICAgICAgIC8vIHNlbmhhXG4gICAgICAgICAgICAncm9vdCcsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaG9zdDogJ2xvY2FsaG9zdCcsXG4gICAgICAgICAgICAgICAgZGlhbGVjdDogJ3Bvc3RncmVzJyxcbiAgICAgICAgICAgICAgICBxdW90ZUlkZW50aWZpZXJzOiAwLFxuICAgICAgICAgICAgICAgIG9wZXJhdG9yc0FsaWFzZXM6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgKTtcblxuICAgICAgICBhd2FpdCB0aGlzLmRlZmluZU1vZGVsKCk7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pbW9zIG8gbm9zc28gbW9kZWxvLlxuICAgIGFzeW5jIGRlZmluZU1vZGVsKCkge1xuICAgICAgIHRoaXMuX2hlcm9pcyA9IHRoaXMuX2RyaXZlci5kZWZpbmUoJ2hlcm9pcycsIHtcbiAgICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU2VxdWVsaXplLklOVEVHRVIsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgcHJpbWFyeUtleTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBhdXRvSW5jcmVtZW50OiB0cnVlXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbm9tZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwb2Rlcjoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFNlcXVlbGl6ZS5TVFJJTkcsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgdGFibGVOYW1lOiAnaGVyb2VzJyxcbiAgICAgICAgICAgIGZyZWV6ZVRhYmxlTmFtZTogZmFsc2UsXG4gICAgICAgICAgICB0aW1lc3RhbXBzOiBmYWxzZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBTaW5jcm9uaXphbW8gY29tIG5vc3NvIGJhbmNvIGRlIGRhZG9zLlxuICAgICAgICB0aGlzLl9oZXJvaXMuc3luYygpO1xuICAgIH1cblxuICAgIGFzeW5jIGNyZWF0ZShoZXJvaSkge1xuICAgICAgICBjb25zdCB7IGRhdGFWYWx1ZXMgfSA9IGF3YWl0IHRoaXMuX2hlcm9pcy5jcmVhdGUoaGVyb2kpO1xuICAgICAgICByZXR1cm4gZGF0YVZhbHVlcztcbiAgICB9XG5cbiAgICBhc3luYyByZWFkKGhlcm9pID0ge30pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hlcm9pcy5maW5kQWxsKHsgd2hlcmU6IGhlcm9pLCByYXc6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgdXBkYXRlKGlkLCBoZXJvaSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faGVyb2lzLnVwZGF0ZShoZXJvaSwge3doZXJlOiB7IGlkOiBpZCB9fSk7XG4gICAgfVxuXG4gICAgYXN5bmMgZGVsZXRlKGlkKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9oZXJvaXMuZGVzdHJveSh7IHdoZXJlOiB7IGlkOiBpZCB9fSk7XG4gICAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBvc3RncmVTUUw7Il19