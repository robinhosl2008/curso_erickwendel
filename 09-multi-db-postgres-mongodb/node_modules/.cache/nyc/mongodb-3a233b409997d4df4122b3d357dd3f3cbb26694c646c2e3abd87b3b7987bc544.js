function cov_qvboh77ep(){var path="/home/seele/Projetos/NodeJS/curso_erickwendel/09-multi-db-postgres-mongodb/src/db/mongodb.js";var hash="358a9fe120c655adb4241d93592e0ff2b6c2d9ac";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/Projetos/NodeJS/curso_erickwendel/09-multi-db-postgres-mongodb/src/db/mongodb.js",statementMap:{"0":{start:{line:1,column:14},end:{line:1,column:52}},"1":{start:{line:2,column:17},end:{line:2,column:36}},"2":{start:{line:3,column:15},end:{line:8,column:1}},"3":{start:{line:11,column:8},end:{line:11,column:16}},"4":{start:{line:12,column:8},end:{line:12,column:27}},"5":{start:{line:13,column:8},end:{line:13,column:27}},"6":{start:{line:14,column:8},end:{line:14,column:30}},"7":{start:{line:15,column:8},end:{line:15,column:27}},"8":{start:{line:16,column:8},end:{line:16,column:23}},"9":{start:{line:20,column:22},end:{line:20,column:56}},"10":{start:{line:21,column:8},end:{line:21,column:47}},"11":{start:{line:21,column:34},end:{line:21,column:47}},"12":{start:{line:22,column:8},end:{line:22,column:48}},"13":{start:{line:22,column:35},end:{line:22,column:48}},"14":{start:{line:24,column:8},end:{line:24,column:64}},"15":{start:{line:24,column:37},end:{line:24,column:62}},"16":{start:{line:25,column:8},end:{line:25,column:50}},"17":{start:{line:29,column:28},end:{line:38,column:10}},"18":{start:{line:40,column:8},end:{line:40,column:61}},"19":{start:{line:44,column:8},end:{line:49,column:11}},"20":{start:{line:47,column:12},end:{line:47,column:28}},"21":{start:{line:47,column:21},end:{line:47,column:28}},"22":{start:{line:48,column:12},end:{line:48,column:50}},"23":{start:{line:51,column:8},end:{line:51,column:46}},"24":{start:{line:52,column:8},end:{line:52,column:88}},"25":{start:{line:52,column:43},end:{line:52,column:86}},"26":{start:{line:56,column:8},end:{line:56,column:47}},"27":{start:{line:60,column:0},end:{line:60,column:25}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:10,column:4},end:{line:10,column:5}},loc:{start:{line:10,column:18},end:{line:17,column:5}},line:10},"1":{name:"(anonymous_1)",decl:{start:{line:19,column:4},end:{line:19,column:5}},loc:{start:{line:19,column:23},end:{line:26,column:5}},line:19},"2":{name:"(anonymous_2)",decl:{start:{line:24,column:26},end:{line:24,column:27}},loc:{start:{line:24,column:37},end:{line:24,column:62}},line:24},"3":{name:"(anonymous_3)",decl:{start:{line:28,column:4},end:{line:28,column:5}},loc:{start:{line:28,column:18},end:{line:41,column:5}},line:28},"4":{name:"(anonymous_4)",decl:{start:{line:43,column:4},end:{line:43,column:5}},loc:{start:{line:43,column:14},end:{line:53,column:5}},line:43},"5":{name:"(anonymous_5)",decl:{start:{line:46,column:8},end:{line:46,column:9}},loc:{start:{line:46,column:23},end:{line:49,column:9}},line:46},"6":{name:"(anonymous_6)",decl:{start:{line:52,column:37},end:{line:52,column:38}},loc:{start:{line:52,column:43},end:{line:52,column:86}},line:52},"7":{name:"(anonymous_7)",decl:{start:{line:55,column:4},end:{line:55,column:5}},loc:{start:{line:55,column:23},end:{line:57,column:5}},line:55}},branchMap:{"0":{loc:{start:{line:21,column:8},end:{line:21,column:47}},type:"if",locations:[{start:{line:21,column:8},end:{line:21,column:47}},{start:{line:21,column:8},end:{line:21,column:47}}],line:21},"1":{loc:{start:{line:22,column:8},end:{line:22,column:48}},type:"if",locations:[{start:{line:22,column:8},end:{line:22,column:48}},{start:{line:22,column:8},end:{line:22,column:48}}],line:22},"2":{loc:{start:{line:47,column:12},end:{line:47,column:28}},type:"if",locations:[{start:{line:47,column:12},end:{line:47,column:28}},{start:{line:47,column:12},end:{line:47,column:28}}],line:47}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0},f:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"358a9fe120c655adb4241d93592e0ff2b6c2d9ac"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_qvboh77ep=function(){return actualCoverage;};}return actualCoverage;}cov_qvboh77ep();const ICrud=(cov_qvboh77ep().s[0]++,require('./interfaces/interface.crud'));const Mongoose=(cov_qvboh77ep().s[1]++,require('mongoose'));const STATUS=(cov_qvboh77ep().s[2]++,{0:'Disconectado',1:'Conectado',2:'Conectando',3:'Disconectando'});class MongoDB extends ICrud{constructor(){cov_qvboh77ep().f[0]++;cov_qvboh77ep().s[3]++;super();cov_qvboh77ep().s[4]++;this._driver=null;cov_qvboh77ep().s[5]++;this._herois=null;cov_qvboh77ep().s[6]++;this.connection=null;cov_qvboh77ep().s[7]++;this.defineModel();cov_qvboh77ep().s[8]++;this.connect();}async isConnected(){cov_qvboh77ep().f[1]++;const state=(cov_qvboh77ep().s[9]++,STATUS[this.connection.readyState]);cov_qvboh77ep().s[10]++;if(state==='Conectado'){cov_qvboh77ep().b[0][0]++;cov_qvboh77ep().s[11]++;return state;}else{cov_qvboh77ep().b[0][1]++;}cov_qvboh77ep().s[12]++;if(state!=='Conectando'){cov_qvboh77ep().b[1][0]++;cov_qvboh77ep().s[13]++;return state;}else{cov_qvboh77ep().b[1][1]++;}cov_qvboh77ep().s[14]++;await new Promise(resolve=>{cov_qvboh77ep().f[2]++;cov_qvboh77ep().s[15]++;return setTimeout(resolve,1000);});cov_qvboh77ep().s[16]++;return STATUS[this.connection.readyState];}defineModel(){cov_qvboh77ep().f[3]++;const heroiSchema=(cov_qvboh77ep().s[17]++,new Mongoose.Schema({nome:{type:String,required:true},poder:{type:String,required:true}}));cov_qvboh77ep().s[18]++;this._herois=Mongoose.model('herois',heroiSchema);}connect(){cov_qvboh77ep().f[4]++;cov_qvboh77ep().s[19]++;Mongoose.connect('mongodb://admin:root@localhost:27017/herois?authSource=admin&readPreference=primary&ssl=false',{useUnifiedTopology:true,useNewUrlParser:true},function(err){cov_qvboh77ep().f[5]++;cov_qvboh77ep().s[20]++;if(!err){cov_qvboh77ep().b[2][0]++;cov_qvboh77ep().s[21]++;return;}else{cov_qvboh77ep().b[2][1]++;}cov_qvboh77ep().s[22]++;console.log('Falha na conexÃ£o!',err);});cov_qvboh77ep().s[23]++;this.connection=Mongoose.connection;cov_qvboh77ep().s[24]++;this.connection.once('Open',()=>{cov_qvboh77ep().f[6]++;cov_qvboh77ep().s[25]++;return console.log('Conectado ao banco de dados!');});}async create(item){cov_qvboh77ep().f[7]++;cov_qvboh77ep().s[26]++;return await this._herois.create(item);}}cov_qvboh77ep().s[27]++;module.exports=MongoDB;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vbmdvZGIuanMiXSwibmFtZXMiOlsiSUNydWQiLCJyZXF1aXJlIiwiTW9uZ29vc2UiLCJTVEFUVVMiLCJNb25nb0RCIiwiY29uc3RydWN0b3IiLCJfZHJpdmVyIiwiX2hlcm9pcyIsImNvbm5lY3Rpb24iLCJkZWZpbmVNb2RlbCIsImNvbm5lY3QiLCJpc0Nvbm5lY3RlZCIsInN0YXRlIiwicmVhZHlTdGF0ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwic2V0VGltZW91dCIsImhlcm9pU2NoZW1hIiwiU2NoZW1hIiwibm9tZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsInBvZGVyIiwibW9kZWwiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ1c2VOZXdVcmxQYXJzZXIiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwib25jZSIsImNyZWF0ZSIsIml0ZW0iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoid3BJQWVZO3lGQWZaLEtBQU1BLENBQUFBLEtBQUsseUJBQUdDLE9BQU8sQ0FBQyw2QkFBRCxDQUFWLENBQVgsQ0FDQSxLQUFNQyxDQUFBQSxRQUFRLHlCQUFHRCxPQUFPLENBQUMsVUFBRCxDQUFWLENBQWQsQ0FDQSxLQUFNRSxDQUFBQSxNQUFNLHlCQUFHLENBQ1gsRUFBRyxjQURRLENBRVgsRUFBRyxXQUZRLENBR1gsRUFBRyxZQUhRLENBSVgsRUFBRyxlQUpRLENBQUgsQ0FBWixDQU1BLEtBQU1DLENBQUFBLE9BQU4sUUFBc0JKLENBQUFBLEtBQU0sQ0FDeEJLLFdBQVcsRUFBRywrQ0FDVixRQURVLHVCQUVWLEtBQUtDLE9BQUwsQ0FBZSxJQUFmLENBRlUsdUJBR1YsS0FBS0MsT0FBTCxDQUFlLElBQWYsQ0FIVSx1QkFJVixLQUFLQyxVQUFMLENBQWtCLElBQWxCLENBSlUsdUJBS1YsS0FBS0MsV0FBTCxHQUxVLHVCQU1WLEtBQUtDLE9BQUwsR0FDSCxDQUVnQixLQUFYQyxDQUFBQSxXQUFXLEVBQUUsd0JBQ2YsS0FBTUMsQ0FBQUEsS0FBSyx5QkFBR1QsTUFBTSxDQUFDLEtBQUtLLFVBQUwsQ0FBZ0JLLFVBQWpCLENBQVQsQ0FBWCxDQURlLHdCQUVmLEdBQUdELEtBQUssR0FBSyxXQUFiLENBQTBCLHlEQUFPQSxDQUFBQSxLQUFQLENBQWEsQ0FBdkMsZ0NBRmUsd0JBR2YsR0FBR0EsS0FBSyxHQUFLLFlBQWIsQ0FBMkIseURBQU9BLENBQUFBLEtBQVAsQ0FBYSxDQUF4QyxnQ0FIZSx3QkFLZixLQUFNLElBQUlFLENBQUFBLE9BQUosQ0FBWUMsT0FBTyxFQUFJLHNEQUFBQyxDQUFBQSxVQUFVLENBQUNELE9BQUQsQ0FBVSxJQUFWLENBQVYsQ0FBeUIsQ0FBaEQsQ0FBTixDQUxlLHdCQU1mLE1BQU9aLENBQUFBLE1BQU0sQ0FBQyxLQUFLSyxVQUFMLENBQWdCSyxVQUFqQixDQUFiLENBQ0gsQ0FFREosV0FBVyxFQUFHLHdCQUNWLEtBQU1RLENBQUFBLFdBQVcsMEJBQUcsR0FBSWYsQ0FBQUEsUUFBUSxDQUFDZ0IsTUFBYixDQUFvQixDQUNwQ0MsSUFBSSxDQUFFLENBQ0ZDLElBQUksQ0FBRUMsTUFESixDQUVGQyxRQUFRLENBQUUsSUFGUixDQUQ4QixDQUtwQ0MsS0FBSyxDQUFFLENBQ0hILElBQUksQ0FBRUMsTUFESCxDQUVIQyxRQUFRLENBQUUsSUFGUCxDQUw2QixDQUFwQixDQUFILENBQWpCLENBRFUsd0JBWVYsS0FBS2YsT0FBTCxDQUFlTCxRQUFRLENBQUNzQixLQUFULENBQWUsUUFBZixDQUF5QlAsV0FBekIsQ0FBZixDQUNILENBRURQLE9BQU8sRUFBRyxnREFDTlIsUUFBUSxDQUFDUSxPQUFULENBQWlCLCtGQUFqQixDQUNBLENBQUVlLGtCQUFrQixDQUFFLElBQXRCLENBQTRCQyxlQUFlLENBQUUsSUFBN0MsQ0FEQSxDQUVBLFNBQVVDLEdBQVYsQ0FBZSxnREFDWCxHQUFHLENBQUNBLEdBQUosQ0FBUywwREFBTyxDQUFoQixnQ0FEVyx3QkFFWEMsT0FBTyxDQUFDQyxHQUFSLENBQVksbUJBQVosQ0FBaUNGLEdBQWpDLEVBQ0gsQ0FMRCxFQURNLHdCQVFOLEtBQUtuQixVQUFMLENBQWtCTixRQUFRLENBQUNNLFVBQTNCLENBUk0sd0JBU04sS0FBS0EsVUFBTCxDQUFnQnNCLElBQWhCLENBQXFCLE1BQXJCLENBQTZCLElBQU0sc0RBQUFGLENBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLDhCQUFaLEVBQTJDLENBQTlFLEVBQ0gsQ0FFVyxLQUFORSxDQUFBQSxNQUFNLENBQUNDLElBQUQsQ0FBTyxnREFDZixNQUFPLE1BQU0sTUFBS3pCLE9BQUwsQ0FBYXdCLE1BQWIsQ0FBb0JDLElBQXBCLENBQWIsQ0FDSCxDQWhEdUIsQyx3QkFtRDVCQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUI5QixPQUFqQiIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IElDcnVkID0gcmVxdWlyZSgnLi9pbnRlcmZhY2VzL2ludGVyZmFjZS5jcnVkJyk7XG5jb25zdCBNb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJyk7XG5jb25zdCBTVEFUVVMgPSB7XG4gICAgMDogJ0Rpc2NvbmVjdGFkbycsXG4gICAgMTogJ0NvbmVjdGFkbycsXG4gICAgMjogJ0NvbmVjdGFuZG8nLFxuICAgIDM6ICdEaXNjb25lY3RhbmRvJ1xufVxuY2xhc3MgTW9uZ29EQiBleHRlbmRzIElDcnVkIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5fZHJpdmVyID0gbnVsbFxuICAgICAgICB0aGlzLl9oZXJvaXMgPSBudWxsXG4gICAgICAgIHRoaXMuY29ubmVjdGlvbiA9IG51bGxcbiAgICAgICAgdGhpcy5kZWZpbmVNb2RlbCgpO1xuICAgICAgICB0aGlzLmNvbm5lY3QoKTtcbiAgICB9XG5cbiAgICBhc3luYyBpc0Nvbm5lY3RlZCgpeyBcbiAgICAgICAgY29uc3Qgc3RhdGUgPSBTVEFUVVNbdGhpcy5jb25uZWN0aW9uLnJlYWR5U3RhdGVdO1xuICAgICAgICBpZihzdGF0ZSA9PT0gJ0NvbmVjdGFkbycpIHJldHVybiBzdGF0ZTtcbiAgICAgICAgaWYoc3RhdGUgIT09ICdDb25lY3RhbmRvJykgcmV0dXJuIHN0YXRlO1xuXG4gICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCAxMDAwKSk7XG4gICAgICAgIHJldHVybiBTVEFUVVNbdGhpcy5jb25uZWN0aW9uLnJlYWR5U3RhdGVdO1xuICAgIH1cblxuICAgIGRlZmluZU1vZGVsKCkge1xuICAgICAgICBjb25zdCBoZXJvaVNjaGVtYSA9IG5ldyBNb25nb29zZS5TY2hlbWEoe1xuICAgICAgICAgICAgbm9tZToge1xuICAgICAgICAgICAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBvZGVyOiB7XG4gICAgICAgICAgICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgICAgICB0aGlzLl9oZXJvaXMgPSBNb25nb29zZS5tb2RlbCgnaGVyb2lzJywgaGVyb2lTY2hlbWEpO1xuICAgIH1cblxuICAgIGNvbm5lY3QoKSB7XG4gICAgICAgIE1vbmdvb3NlLmNvbm5lY3QoJ21vbmdvZGI6Ly9hZG1pbjpyb290QGxvY2FsaG9zdDoyNzAxNy9oZXJvaXM/YXV0aFNvdXJjZT1hZG1pbiZyZWFkUHJlZmVyZW5jZT1wcmltYXJ5JnNzbD1mYWxzZScsIFxuICAgICAgICB7IHVzZVVuaWZpZWRUb3BvbG9neTogdHJ1ZSwgdXNlTmV3VXJsUGFyc2VyOiB0cnVlfSxcbiAgICAgICAgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgICAgaWYoIWVycikgcmV0dXJuO1xuICAgICAgICAgICAgY29uc29sZS5sb2coJ0ZhbGhhIG5hIGNvbmV4w6NvIScsIGVycik7XG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uID0gTW9uZ29vc2UuY29ubmVjdGlvbjtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uLm9uY2UoJ09wZW4nLCAoKSA9PiBjb25zb2xlLmxvZygnQ29uZWN0YWRvIGFvIGJhbmNvIGRlIGRhZG9zIScpKTtcbiAgICB9XG5cbiAgICBhc3luYyBjcmVhdGUoaXRlbSkge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5faGVyb2lzLmNyZWF0ZShpdGVtKTtcbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gTW9uZ29EQjsiXX0=