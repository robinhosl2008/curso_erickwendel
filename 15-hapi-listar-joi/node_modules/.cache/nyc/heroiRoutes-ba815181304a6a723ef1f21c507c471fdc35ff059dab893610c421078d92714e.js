function cov_2kamflyuxw(){var path="/home/seele/projetos/robson/nodejs/curso_erickwendel/15-hapi-listar-joi/src/routes/heroiRoutes.js";var hash="2f01208a67636ff125c9b6558af75be4b5041202";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/home/seele/projetos/robson/nodejs/curso_erickwendel/15-hapi-listar-joi/src/routes/heroiRoutes.js",statementMap:{"0":{start:{line:1,column:18},end:{line:1,column:45}},"1":{start:{line:2,column:12},end:{line:2,column:26}},"2":{start:{line:4,column:20},end:{line:6,column:2}},"3":{start:{line:10,column:8},end:{line:10,column:16}},"4":{start:{line:11,column:8},end:{line:11,column:21}},"5":{start:{line:15,column:8},end:{line:43,column:9}},"6":{start:{line:20,column:20},end:{line:33,column:21}},"7":{start:{line:21,column:54},end:{line:21,column:67}},"8":{start:{line:23,column:38},end:{line:27,column:30}},"9":{start:{line:29,column:24},end:{line:29,column:84}},"10":{start:{line:31,column:24},end:{line:31,column:56}},"11":{start:{line:32,column:24},end:{line:32,column:59}},"12":{start:{line:47,column:0},end:{line:47,column:29}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:9,column:4},end:{line:9,column:5}},loc:{start:{line:9,column:20},end:{line:12,column:5}},line:9},"1":{name:"(anonymous_1)",decl:{start:{line:14,column:4},end:{line:14,column:5}},loc:{start:{line:14,column:11},end:{line:44,column:5}},line:14},"2":{name:"(anonymous_2)",decl:{start:{line:19,column:25},end:{line:19,column:26}},loc:{start:{line:19,column:47},end:{line:34,column:17}},line:19}},branchMap:{"0":{loc:{start:{line:23,column:38},end:{line:27,column:30}},type:"cond-expr",locations:[{start:{line:23,column:45},end:{line:27,column:25}},{start:{line:27,column:28},end:{line:27,column:30}}],line:23}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0,"1":0,"2":0},b:{"0":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"2f01208a67636ff125c9b6558af75be4b5041202"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_2kamflyuxw=function(){return actualCoverage;};}return actualCoverage;}cov_2kamflyuxw();const BaseRoute=(cov_2kamflyuxw().s[0]++,require('./base/baseRoute'));const Joi=(cov_2kamflyuxw().s[1]++,require('joi'));const heroiSchema=(cov_2kamflyuxw().s[2]++,Joi.object({}));class HeroiRoutes extends BaseRoute{constructor(db){cov_2kamflyuxw().f[0]++;cov_2kamflyuxw().s[3]++;super();cov_2kamflyuxw().s[4]++;this.db=db;}list(){cov_2kamflyuxw().f[1]++;cov_2kamflyuxw().s[5]++;return{path:'/herois',method:'GET',options:{handler:async(request,h)=>{cov_2kamflyuxw().f[2]++;cov_2kamflyuxw().s[6]++;try{const{skip,limit,nome}=(cov_2kamflyuxw().s[7]++,request.query);const query=(cov_2kamflyuxw().s[8]++,nome?(cov_2kamflyuxw().b[0][0]++,{nome:{$regex:`.*${nome}*.`}}):(cov_2kamflyuxw().b[0][1]++,{}));cov_2kamflyuxw().s[9]++;return this.db.read(query,parseInt(skip),parseInt(limit));}catch(error){cov_2kamflyuxw().s[10]++;console.log('Deu ruim:',error);cov_2kamflyuxw().s[11]++;return"Erro interno do servidor.";}},validate:{query:Joi.object({skip:Joi.number().integer().default(0),limit:Joi.number().integer().default(10),nome:Joi.string().min(3).max(100)})}}};}}cov_2kamflyuxw().s[12]++;module.exports=HeroiRoutes;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlcm9pUm91dGVzLmpzIl0sIm5hbWVzIjpbIkJhc2VSb3V0ZSIsInJlcXVpcmUiLCJKb2kiLCJoZXJvaVNjaGVtYSIsIm9iamVjdCIsIkhlcm9pUm91dGVzIiwiY29uc3RydWN0b3IiLCJkYiIsImxpc3QiLCJwYXRoIiwibWV0aG9kIiwib3B0aW9ucyIsImhhbmRsZXIiLCJyZXF1ZXN0IiwiaCIsInNraXAiLCJsaW1pdCIsIm5vbWUiLCJxdWVyeSIsIiRyZWdleCIsInJlYWQiLCJwYXJzZUludCIsImVycm9yIiwiY29uc29sZSIsImxvZyIsInZhbGlkYXRlIiwibnVtYmVyIiwiaW50ZWdlciIsImRlZmF1bHQiLCJzdHJpbmciLCJtaW4iLCJtYXgiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoicW1FQWVZOzJGQWZaLEtBQU1BLENBQUFBLFNBQVMsMEJBQUdDLE9BQU8sQ0FBQyxrQkFBRCxDQUFWLENBQWYsQ0FDQSxLQUFNQyxDQUFBQSxHQUFHLDBCQUFHRCxPQUFPLENBQUMsS0FBRCxDQUFWLENBQVQsQ0FFQSxLQUFNRSxDQUFBQSxXQUFXLDBCQUFHRCxHQUFHLENBQUNFLE1BQUosQ0FBVyxFQUFYLENBQUgsQ0FBakIsQ0FJQSxLQUFNQyxDQUFBQSxXQUFOLFFBQTBCTCxDQUFBQSxTQUFVLENBQ2hDTSxXQUFXLENBQUNDLEVBQUQsQ0FBSyxpREFDWixRQURZLHdCQUVaLEtBQUtBLEVBQUwsQ0FBVUEsRUFBVixDQUNILENBRURDLElBQUksRUFBRyxpREFDSCxNQUFPLENBQ0hDLElBQUksQ0FBRSxTQURILENBRUhDLE1BQU0sQ0FBRSxLQUZMLENBR0hDLE9BQU8sQ0FBRSxDQUNMQyxPQUFPLENBQUUsTUFBT0MsT0FBUCxDQUFnQkMsQ0FBaEIsR0FBc0IsaURBQzNCLEdBQUksQ0FDQSxLQUFNLENBQUVDLElBQUYsQ0FBUUMsS0FBUixDQUFlQyxJQUFmLDJCQUF3QkosT0FBTyxDQUFDSyxLQUFoQyxDQUFOLENBRUEsS0FBTUEsQ0FBQUEsS0FBSywwQkFBR0QsSUFBSSw2QkFBRyxDQUNqQkEsSUFBSSxDQUFFLENBQ0ZFLE1BQU0sQ0FBRyxLQUFJRixJQUFLLElBRGhCLENBRFcsQ0FBSCw4QkFJZCxFQUpjLENBQVAsQ0FBWCxDQUhBLHdCQVNBLE1BQU8sTUFBS1YsRUFBTCxDQUFRYSxJQUFSLENBQWFGLEtBQWIsQ0FBb0JHLFFBQVEsQ0FBQ04sSUFBRCxDQUE1QixDQUFvQ00sUUFBUSxDQUFDTCxLQUFELENBQTVDLENBQVAsQ0FDSCxDQUFDLE1BQU9NLEtBQVAsQ0FBYywwQkFDWkMsT0FBTyxDQUFDQyxHQUFSLENBQVksV0FBWixDQUF5QkYsS0FBekIsRUFEWSx5QkFFWixNQUFPLDJCQUFQLENBQ0gsQ0FDSixDQWhCSSxDQWlCTEcsUUFBUSxDQUFFLENBQ05QLEtBQUssQ0FBRWhCLEdBQUcsQ0FBQ0UsTUFBSixDQUFXLENBQ2RXLElBQUksQ0FBRWIsR0FBRyxDQUFDd0IsTUFBSixHQUFhQyxPQUFiLEdBQXVCQyxPQUF2QixDQUErQixDQUEvQixDQURRLENBRWRaLEtBQUssQ0FBRWQsR0FBRyxDQUFDd0IsTUFBSixHQUFhQyxPQUFiLEdBQXVCQyxPQUF2QixDQUErQixFQUEvQixDQUZPLENBR2RYLElBQUksQ0FBRWYsR0FBRyxDQUFDMkIsTUFBSixHQUFhQyxHQUFiLENBQWlCLENBQWpCLEVBQW9CQyxHQUFwQixDQUF3QixHQUF4QixDQUhRLENBQVgsQ0FERCxDQWpCTCxDQUhOLENBQVAsQ0E2QkgsQ0FwQytCLEMseUJBdUNwQ0MsTUFBTSxDQUFDQyxPQUFQLENBQWlCNUIsV0FBakIiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBCYXNlUm91dGUgPSByZXF1aXJlKCcuL2Jhc2UvYmFzZVJvdXRlJyk7XG5jb25zdCBKb2kgPSByZXF1aXJlKCdqb2knKTtcblxuY29uc3QgaGVyb2lTY2hlbWEgPSBKb2kub2JqZWN0KHtcbiAgICBcbn0pO1xuXG5jbGFzcyBIZXJvaVJvdXRlcyBleHRlbmRzIEJhc2VSb3V0ZSB7XG4gICAgY29uc3RydWN0b3IoZGIpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5kYiA9IGRiO1xuICAgIH1cblxuICAgIGxpc3QoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBwYXRoOiAnL2hlcm9pcycsXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIGhhbmRsZXI6IGFzeW5jIChyZXF1ZXN0LCBoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHNraXAsIGxpbWl0LCBub21lIH0gPSByZXF1ZXN0LnF1ZXJ5O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBxdWVyeSA9IG5vbWUgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbm9tZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkcmVnZXg6IGAuKiR7bm9tZX0qLmBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IDoge31cblxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGIucmVhZChxdWVyeSwgcGFyc2VJbnQoc2tpcCksIHBhcnNlSW50KGxpbWl0KSk7XG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnRGV1IHJ1aW06JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yLlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB2YWxpZGF0ZToge1xuICAgICAgICAgICAgICAgICAgICBxdWVyeTogSm9pLm9iamVjdCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBza2lwOiBKb2kubnVtYmVyKCkuaW50ZWdlcigpLmRlZmF1bHQoMCksXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW1pdDogSm9pLm51bWJlcigpLmludGVnZXIoKS5kZWZhdWx0KDEwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vbWU6IEpvaS5zdHJpbmcoKS5taW4oMykubWF4KDEwMClcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gSGVyb2lSb3V0ZXM7Il19